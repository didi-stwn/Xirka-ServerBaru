{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/pengguna.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport { Route, Link, withRouter, Switch } from \"react-router-dom\";\nimport Daftarpengguna from './daftarpengguna';\nimport Editpengguna from './editpengguna';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Pengguna extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      editID: ''\n    };\n  }\n\n  deleteData(e, f, g, h) {\n    let key = String(e);\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Scard ID = \" + e + \", NIP/NIM= \" + f + \", Nama= \" + g + \", Instansi= \" + h + \" ?\");\n\n    if (yes === true) {\n      let he = new Headers();\n      let token = this.props.token;\n      he.append('x-access-token', token);\n      fetch('http://192.168.2.7:3000/card/' + key, {\n        method: 'delete',\n        headers: he\n      }).then(response => {\n        if (response.ok) {\n          window.alert(\"Data berhasil dihapus\");\n        } else {\n          window.alert(\"Data tidak berhasil dihapus\");\n        }\n      });\n    }\n  }\n\n  editData(e) {\n    this.setState({\n      editID: e\n    });\n  }\n\n  componentDidMount() {\n    let he = new Headers();\n    let token = this.props.token;\n    he.append('x-access-token', token);\n    fetch('http://192.168.2.7:3000/card', {\n      method: 'GET',\n      headers: he\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data\n    }));\n  }\n\n  refresh() {\n    let he = new Headers();\n    let token = this.props.token;\n    he.append('x-access-token', token);\n    fetch('http://192.168.2.7:3000/card', {\n      method: 'GET',\n      headers: he\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data\n    }));\n  }\n\n  render() {\n    sessionStorage.removeItem(\"login\");\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    let token = this.props.token;\n    const dataadmin = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'Scard ID',\n        field: 'scardid',\n        sort: 'asc'\n      }, {\n        label: 'NIP/NIM',\n        field: 'nipnim',\n        sort: 'asc'\n      }, {\n        label: 'Nama',\n        field: 'nama',\n        sort: 'asc'\n      }, {\n        label: 'Instansi',\n        field: 'instansi',\n        sort: 'asc'\n      }, {\n        label: 'Keterangan',\n        field: 'keterangan'\n      }],\n      rows: this.state.isidata.map(isi => {\n        return {\n          no: no(x++),\n          scardid: isi.card_id,\n          nipnim: isi.nim,\n          nama: isi.name,\n          instansi: isi.instansi,\n          keterangan: React.createElement(\"div\", {\n            className: \"editdelete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, \" \", React.createElement(Link, {\n            to: \"/pengguna/edit\",\n            onClick: () => this.editData(isi.card_id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          })), \" | \", React.createElement(\"a\", {\n            className: \"mousepointer\",\n            onClick: () => this.deleteData(isi.card_id, isi.card_id, isi.name, isi.instansi),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fa fa-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          })), \" \")\n        };\n      })\n    };\n    var y = 1;\n    const dataclient = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'Scard ID',\n        field: 'scardid',\n        sort: 'asc'\n      }, {\n        label: 'NIP/NIM',\n        field: 'nipnim',\n        sort: 'asc'\n      }, {\n        label: 'Nama',\n        field: 'nama',\n        sort: 'asc'\n      }, {\n        label: 'Instansi',\n        field: 'instansi',\n        sort: 'asc'\n      }],\n      rows: this.state.isidata.map(isi => {\n        return {\n          no: no(y++),\n          scardid: isi.card_id,\n          nipnim: isi.nim,\n          nama: isi.name,\n          instansi: isi.instansi\n        };\n      })\n    };\n    const editID = this.state.editID;\n\n    if (sessionStorage.message === \"admin\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/pengguna/daftar\",\n        render: () => React.createElement(Daftarpengguna, {\n          token: this.props.token,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/pengguna/edit\",\n        render: () => React.createElement(Editpengguna, {\n          token: this.props.token,\n          editID: editID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"box-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"kotakdaftarruangan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/pengguna/daftar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"daftar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \" Pengguna \"))), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: () => this.refresh(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"daftar2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-refresh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"isitabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(MDBDataTable, {\n        responsive: true,\n        striped: true,\n        bordered: true,\n        small: true,\n        hover: true,\n        data: dataadmin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"isitabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(MDBDataTable, {\n        responsive: true,\n        striped: true,\n        bordered: true,\n        small: true,\n        hover: true,\n        data: dataclient,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nexport default withRouter(Pengguna);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/pengguna.js"],"names":["React","Component","MDBDataTable","Route","Link","withRouter","Switch","Daftarpengguna","Editpengguna","Pengguna","constructor","props","state","isidata","editID","deleteData","e","f","g","h","key","String","yes","window","confirm","he","Headers","token","append","fetch","method","headers","then","response","ok","alert","editData","setState","componentDidMount","json","data","refresh","render","sessionStorage","removeItem","x","no","i","m","hasil","dataadmin","columns","label","field","sort","rows","map","isi","scardid","card_id","nipnim","nim","nama","name","instansi","keterangan","y","dataclient","message"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport {Route, Link,withRouter,Switch} from \"react-router-dom\";\nimport Daftarpengguna from './daftarpengguna';\nimport Editpengguna from './editpengguna';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\n\nclass Pengguna extends Component{\n    \n    constructor(props) {\n      super(props);\n      this.state = {\n      isidata: [],\n      editID:'',\n      };\n    }\n\n    deleteData(e,f,g,h){\n      let key=String(e)\n      var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Scard ID = \" +e+\", NIP/NIM= \"+f+\", Nama= \"+g+\", Instansi= \"+h+\" ?\");\n      if (yes === true){\n        let he= new Headers()\n        let token = this.props.token\n        he.append ('x-access-token', token)\n        fetch('http://192.168.2.7:3000/card/'+key, {\n          method: 'delete',\n          headers: he \n        })\n        .then(response=>{\n          if (response.ok){\n            window.alert(\"Data berhasil dihapus\")\n          }\n          else{\n            window.alert(\"Data tidak berhasil dihapus\")\n          }\n        })\n      }\n    }\n\n    editData(e){\n      this.setState({editID:e})\n    }\n            \n    componentDidMount(){\n      let he= new Headers()\n      let token = this.props.token\n      he.append ('x-access-token', token)\n      fetch('http://192.168.2.7:3000/card', {\n        method: 'GET',\n        headers: he\n      })\n      .then(response=>response.json())\n      .then(data => this.setState({isidata: data}))    \n    }\n    refresh(){\n      let he= new Headers()\n      let token = this.props.token\n      he.append ('x-access-token', token)\n      fetch('http://192.168.2.7:3000/card', {\n        method: 'GET',\n        headers: he\n      })\n      .then(response=>response.json())\n      .then(data => this.setState({isidata: data}))    \n    }\n\n  render(){\n    sessionStorage.removeItem(\"login\");\n    var x=1;\n    function no(i){\n      var m=0\n      var hasil=m+i\n      return  hasil\n    }\n    \n    let token = this.props.token\n    const dataadmin = {\n      columns: [\n        {\n          label: 'No',\n          field: 'no',\n          sort: 'asc',\n        },\n        {\n          label: 'Scard ID',\n          field: 'scardid',\n          sort: 'asc',\n        },\n        {\n          label: 'NIP/NIM',\n          field: 'nipnim',\n          sort: 'asc',\n        },\n        {\n          label: 'Nama',\n          field: 'nama',\n          sort: 'asc',\n        },\n        {\n          label: 'Instansi',\n          field: 'instansi',\n          sort: 'asc',\n        },\n        {\n          label: 'Keterangan',\n          field: 'keterangan'\n        }\n      ],\n      rows: this.state.isidata.map(isi=>{\n        return {\n          no:no(x++),\n          scardid: isi.card_id,\n          nipnim:isi.nim,\n          nama:isi.name,\n          instansi: isi.instansi,\n          keterangan:<div className=\"editdelete\"> <Link to=\"/pengguna/edit\" onClick={() => this.editData(isi.card_id)}><i className=\"fa fa-pencil\"></i></Link> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.card_id,isi.card_id,isi.name,isi.instansi)}> <i className=\"fa fa-trash\"></i></a> </div>\n        }\n      })\n    };\n    var y = 1;\n    const dataclient = {\n      columns: [\n        {\n          label: 'No',\n          field: 'no',\n          sort: 'asc',\n        },\n        {\n          label: 'Scard ID',\n          field: 'scardid',\n          sort: 'asc',\n        },\n        {\n          label: 'NIP/NIM',\n          field: 'nipnim',\n          sort: 'asc',\n        },\n        {\n          label: 'Nama',\n          field: 'nama',\n          sort: 'asc',\n        },\n        {\n          label: 'Instansi',\n          field: 'instansi',\n          sort: 'asc',\n        }\n      ],\n      rows: this.state.isidata.map(isi=>{\n        return {\n          no:no(y++),\n          scardid: isi.card_id,\n          nipnim:isi.nim,\n          nama:isi.name,\n          instansi: isi.instansi,\n        }\n      })\n    };\n    const {editID}= this.state;\n    if (sessionStorage.message===\"admin\"){\n      return (              \n        <div>\n            <div>\n              <Switch>\n                <Route path=\"/pengguna/daftar\" render={ () => <Daftarpengguna token={this.props.token} /> } />\n                <Route path=\"/pengguna/edit\" render={ () => <Editpengguna token={this.props.token} editID={editID}/> } />\n              </Switch>\n            </div>\n           \n             <div className=\"box-footer\">  \n                <div className=\"kotakdaftarruangan\">\n                  <Link to=\"/pengguna/daftar\">\n                    <div className=\"daftar\">\n                      <i className=\"fa fa-plus\"></i> \n                      <span> Pengguna </span>\n                    </div>\n                  </Link>\n                  <span>\n                    <a onClick={() => this.refresh()}>\n                      <div className=\"daftar2\">\n                        <i className=\"fa fa-refresh\"></i>\n                      </div>\n                    </a>\n                  </span>\n                </div>\n                <div className=\"isitabel\">\n                    <MDBDataTable\n                    responsive\n                    striped\n                    bordered\n                    small\n                    hover\n                    data={dataadmin}\n                    />\n                </div> \n            </div>\n        </div>        \n      );\n    }\n    else{\n      return (              \n        <div>\n          <div className=\"box-footer\">  \n            <div className=\"isitabel\">\n              <MDBDataTable\n              responsive\n              striped\n              bordered\n              small\n              hover\n              data={dataclient}\n              />\n            </div> \n          </div>\n        </div>        \n      );\n    }\n    \n  }\n}\n\nexport default withRouter(Pengguna);\n"]},"metadata":{},"sourceType":"module"}