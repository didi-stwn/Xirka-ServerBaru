{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/pengguna.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport { Route, Link, withRouter, Switch } from \"react-router-dom\";\nimport Daftarpengguna from './daftarpengguna';\nimport Editpengguna from './editpengguna';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Pengguna extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      editID: ''\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name\n      }\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  refresh() {\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name\n      }\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  deleteData(e, f, g) {\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Terminal ID = \" + e + \", Nama Ruangan= \" + f + \", Instansi= \" + g + \" ?\");\n\n    if (yes === true) {\n      this.setState({\n        editID: e\n      });\n    }\n  }\n\n  editData(e) {\n    this.setState({\n      editID: e\n    });\n  }\n\n  render() {\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    const _this$state = this.state,\n          isidata = _this$state.isidata,\n          editID = _this$state.editID;\n    const data = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'NIM',\n        field: 'nim',\n        sort: 'asc'\n      }, {\n        label: 'Nama',\n        field: 'nama',\n        sort: 'asc'\n      }, {\n        label: 'Keterangan',\n        field: 'keterangan',\n        sort: 'asc'\n      }],\n      rows: isidata.map(isi => {\n        return {\n          no: no(x++),\n          nim: isi.nim,\n          nama: isi.nama,\n          keterangan: React.createElement(\"div\", {\n            className: \"editdelete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, \" \", React.createElement(Link, {\n            to: \"/ruangan/edit\",\n            onClick: () => this.editData(isi.kode_ruangan),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          })), \" | \", React.createElement(\"a\", {\n            className: \"mousepointer\",\n            onClick: () => this.deleteData(isi.kode_ruangan, isi.nama_ruangan),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fa fa-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          })), \" \")\n        };\n      })\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/pengguna/daftar\",\n      render: () => React.createElement(Daftarpengguna, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/pengguna/edit\",\n      render: () => React.createElement(Editpengguna, {\n        editID: editID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"box-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakdaftarruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/pengguna/daftar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"daftar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \" Pengguna \"))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.refresh(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"daftar2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-refresh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"isitabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(MDBDataTable, {\n      responsive: true,\n      striped: true,\n      bordered: true,\n      hover: true,\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }))));\n  } //   constructor(props) {\n  //     super(props);\n  //     this.state = {\n  //     isidata: [],\n  //     editID:'',\n  //     };\n  //   }\n  //   deleteData(e,f,g,h){\n  //     let key=String(e)\n  //     var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Scard ID = \" +e+\", NIP/NIM= \"+f+\", Nama= \"+g+\", Instansi= \"+h+\" ?\");\n  //     if (yes === true){\n  //       let he= new Headers()\n  //       let token = this.props.token\n  //       he.append ('x-access-token', token)\n  //       fetch('http://192.168.2.7:3000/card/'+key, {\n  //         method: 'delete',\n  //         headers: he \n  //       })\n  //       .then(response=>{\n  //         if (response.ok){\n  //           window.alert(\"Data berhasil dihapus\")\n  //         }\n  //         else{\n  //           window.alert(\"Data tidak berhasil dihapus\")\n  //         }\n  //       })\n  //     }\n  //   }\n  //   editData(e){\n  //     this.setState({editID:e})\n  //   }\n  //   componentDidMount(){\n  //     let he= new Headers()\n  //     let token = this.props.token\n  //     he.append ('x-access-token', token)\n  //     fetch('http://192.168.2.7:3000/card', {\n  //       method: 'GET',\n  //       headers: he\n  //     })\n  //     .then(response=>response.json())\n  //     .then(data => this.setState({isidata: data}))    \n  //   }\n  //   refresh(){\n  //     let he= new Headers()\n  //     let token = this.props.token\n  //     he.append ('x-access-token', token)\n  //     fetch('http://192.168.2.7:3000/card', {\n  //       method: 'GET',\n  //       headers: he\n  //     })\n  //     .then(response=>response.json())\n  //     .then(data => this.setState({isidata: data}))    \n  //   }\n  // render(){\n  //   sessionStorage.removeItem(\"login\");\n  //   var x=1;\n  //   function no(i){\n  //     var m=0\n  //     var hasil=m+i\n  //     return  hasil\n  //   }\n  //   let token = this.props.token\n  //   const dataadmin = {\n  //     columns: [\n  //       {\n  //         label: 'No',\n  //         field: 'no',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Scard ID',\n  //         field: 'scardid',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'NIP/NIM',\n  //         field: 'nipnim',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Nama',\n  //         field: 'nama',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Instansi',\n  //         field: 'instansi',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Keterangan',\n  //         field: 'keterangan'\n  //       }\n  //     ],\n  //     rows: this.state.isidata.map(isi=>{\n  //       return {\n  //         no:no(x++),\n  //         scardid: isi.card_id,\n  //         nipnim:isi.nim,\n  //         nama:isi.name,\n  //         instansi: isi.instansi,\n  //         keterangan:<div className=\"editdelete\"> <Link to=\"/pengguna/edit\" onClick={() => this.editData(isi.card_id)}><i className=\"fa fa-pencil\"></i></Link> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.card_id,isi.card_id,isi.name,isi.instansi)}> <i className=\"fa fa-trash\"></i></a> </div>\n  //       }\n  //     })\n  //   };\n  //   var y = 1;\n  //   const dataclient = {\n  //     columns: [\n  //       {\n  //         label: 'No',\n  //         field: 'no',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Scard ID',\n  //         field: 'scardid',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'NIP/NIM',\n  //         field: 'nipnim',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Nama',\n  //         field: 'nama',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Instansi',\n  //         field: 'instansi',\n  //         sort: 'asc',\n  //       }\n  //     ],\n  //     rows: this.state.isidata.map(isi=>{\n  //       return {\n  //         no:no(y++),\n  //         scardid: isi.card_id,\n  //         nipnim:isi.nim,\n  //         nama:isi.name,\n  //         instansi: isi.instansi,\n  //       }\n  //     })\n  //   };\n  //   const {editID}= this.state;\n  //   if (sessionStorage.message===\"admin\"){\n  //     return (              \n  //       <div>\n  // <div>\n  //   <Switch>\n  //     <Route path=\"/pengguna/daftar\" render={ () => <Daftarpengguna token={this.props.token} /> } />\n  //     <Route path=\"/pengguna/edit\" render={ () => <Editpengguna token={this.props.token} editID={editID}/> } />\n  //   </Switch>\n  // </div>\n  //            <div className=\"box-footer\">  \n  // <div className=\"kotakdaftarruangan\">\n  //   <Link to=\"/pengguna/daftar\">\n  //     <div className=\"daftar\">\n  //       <i className=\"fa fa-plus\"></i> \n  //       <span> Pengguna </span>\n  //     </div>\n  //   </Link>\n  //   <span>\n  //     <a onClick={() => this.refresh()}>\n  //       <div className=\"daftar2\">\n  //         <i className=\"fa fa-refresh\"></i>\n  //       </div>\n  //     </a>\n  //   </span>\n  // </div>\n  //               <div className=\"isitabel\">\n  //                   <MDBDataTable\n  //                   responsive\n  //                   striped\n  //                   bordered\n  //                   small\n  //                   hover\n  //                   data={dataadmin}\n  //                   />\n  //               </div> \n  //           </div>\n  //       </div>        \n  //     );\n  //   }\n  //   else{\n  //     return (              \n  //       <div>\n  //         <div className=\"box-footer\">  \n  //           <div className=\"isitabel\">\n  //             <MDBDataTable\n  //             responsive\n  //             striped\n  //             bordered\n  //             small\n  //             hover\n  //             data={dataclient}\n  //             />\n  //           </div> \n  //         </div>\n  //       </div>        \n  //     );\n  //   }\n  // }\n\n\n}\n\nexport default withRouter(Pengguna);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/pengguna.js"],"names":["React","Component","MDBDataTable","Route","Link","withRouter","Switch","Daftarpengguna","Editpengguna","Pengguna","constructor","props","state","isidata","editID","componentDidMount","fetch","method","headers","sessionStorage","name","then","response","json","setState","list","refresh","deleteData","e","f","g","yes","window","confirm","editData","render","x","no","i","m","hasil","data","columns","label","field","sort","rows","map","isi","nim","nama","keterangan","kode_ruangan","nama_ruangan"],"mappings":"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CADF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,OAAO,EAAE,MAAM,KAAKY,OAAL,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CADF,CAPF,CADJ,EAgBI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AACA,MAAA,UAAU,MADV;AAEA,MAAA,OAAO,MAFP;AAGA,MAAA,QAAQ,MAHR;AAIA,MAAA,KAAK,MAJL;AAKA,MAAA,IAAI,EAAEe,IALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAhBJ,CAPJ,CADF;AAoCD,GAlH6B,CAmH9B;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACU;AACA;AACA;AACA;AACA;AACA;AAEV;AACc;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AApU8B;;AAuUhC,eAAepC,UAAU,CAACI,QAAD,CAAzB","sourcesContent":["import React,{Component} from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport {Route, Link,withRouter,Switch} from \"react-router-dom\";\nimport Daftarpengguna from './daftarpengguna';\nimport Editpengguna from './editpengguna';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\n\nclass Pengguna extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      editID:'',\n    };\n  }\n\n  componentDidMount(){\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers :{\"Authorization\" : \"Bearer \"+ sessionStorage.name}\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list}))\n  }\n\n  refresh(){\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers :{\"Authorization\" : \"Bearer \"+ sessionStorage.name}\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list}))\n  }\n\n  deleteData(e,f,g){\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Terminal ID = \" +e+\", Nama Ruangan= \"+f+\", Instansi= \"+g+\" ?\");\n    if (yes === true){\n      this.setState({editID:e})\n    }\n  }\n\n  editData(e){\n    this.setState({editID:e})\n  }\n\n  render(){\n    var x=1;\n    function no(i){\n      var m=0\n      var hasil=m+i\n      return  hasil\n    }\n    const {isidata,editID} = this.state\n    const data = {\n      columns: [\n        {\n          label: 'No',\n          field: 'no',\n          sort: 'asc',\n        },\n        {\n          label: 'NIM',\n          field: 'nim',\n          sort: 'asc',\n        },\n        {\n          label: 'Nama',\n          field: 'nama',\n          sort: 'asc',\n        },\n        {\n          label: 'Keterangan',\n          field: 'keterangan',\n          sort: 'asc',\n        },\n      ],\n      rows: isidata.map(isi=>{\n        return {\n          no:no(x++),\n          nim:isi.nim,\n          nama:isi.nama,\n          keterangan:<div className=\"editdelete\"> <Link to=\"/ruangan/edit\" onClick={() => this.editData(isi.kode_ruangan)}><i className=\"fa fa-pencil\"></i></Link> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.kode_ruangan,isi.nama_ruangan)}> <i className=\"fa fa-trash\"></i></a> </div>\n        }\n      })\n    };\n    return(\n      <div>\n          <div>\n            <Switch>\n              <Route path=\"/pengguna/daftar\" render={ () => <Daftarpengguna/> } />\n              <Route path=\"/pengguna/edit\" render={ () => <Editpengguna editID={editID}/> } />\n            </Switch>\n          </div>\n          <div className=\"box-footer\">\n              <div className=\"kotakdaftarruangan\">\n                <Link to=\"/pengguna/daftar\">\n                  <div className=\"daftar\">\n                    <i className=\"fa fa-plus\"></i> \n                    <span> Pengguna </span>\n                  </div>\n                </Link>\n                <span>\n                  <a onClick={() => this.refresh()}>\n                    <div className=\"daftar2\">\n                      <i className=\"fa fa-refresh\"></i>\n                    </div>\n                  </a>\n                </span>\n              </div>\n              <div className=\"isitabel\">\n                  <MDBDataTable\n                  responsive\n                  striped\n                  bordered\n                  hover\n                  data={data}\n                  /> \n              </div>  \n          </div>\n      </div>\n    )\n  }  \n  //   constructor(props) {\n  //     super(props);\n  //     this.state = {\n  //     isidata: [],\n  //     editID:'',\n  //     };\n  //   }\n\n  //   deleteData(e,f,g,h){\n  //     let key=String(e)\n  //     var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Scard ID = \" +e+\", NIP/NIM= \"+f+\", Nama= \"+g+\", Instansi= \"+h+\" ?\");\n  //     if (yes === true){\n  //       let he= new Headers()\n  //       let token = this.props.token\n  //       he.append ('x-access-token', token)\n  //       fetch('http://192.168.2.7:3000/card/'+key, {\n  //         method: 'delete',\n  //         headers: he \n  //       })\n  //       .then(response=>{\n  //         if (response.ok){\n  //           window.alert(\"Data berhasil dihapus\")\n  //         }\n  //         else{\n  //           window.alert(\"Data tidak berhasil dihapus\")\n  //         }\n  //       })\n  //     }\n  //   }\n\n  //   editData(e){\n  //     this.setState({editID:e})\n  //   }\n            \n  //   componentDidMount(){\n  //     let he= new Headers()\n  //     let token = this.props.token\n  //     he.append ('x-access-token', token)\n  //     fetch('http://192.168.2.7:3000/card', {\n  //       method: 'GET',\n  //       headers: he\n  //     })\n  //     .then(response=>response.json())\n  //     .then(data => this.setState({isidata: data}))    \n  //   }\n  //   refresh(){\n  //     let he= new Headers()\n  //     let token = this.props.token\n  //     he.append ('x-access-token', token)\n  //     fetch('http://192.168.2.7:3000/card', {\n  //       method: 'GET',\n  //       headers: he\n  //     })\n  //     .then(response=>response.json())\n  //     .then(data => this.setState({isidata: data}))    \n  //   }\n\n  // render(){\n  //   sessionStorage.removeItem(\"login\");\n  //   var x=1;\n  //   function no(i){\n  //     var m=0\n  //     var hasil=m+i\n  //     return  hasil\n  //   }\n    \n  //   let token = this.props.token\n  //   const dataadmin = {\n  //     columns: [\n  //       {\n  //         label: 'No',\n  //         field: 'no',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Scard ID',\n  //         field: 'scardid',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'NIP/NIM',\n  //         field: 'nipnim',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Nama',\n  //         field: 'nama',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Instansi',\n  //         field: 'instansi',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Keterangan',\n  //         field: 'keterangan'\n  //       }\n  //     ],\n  //     rows: this.state.isidata.map(isi=>{\n  //       return {\n  //         no:no(x++),\n  //         scardid: isi.card_id,\n  //         nipnim:isi.nim,\n  //         nama:isi.name,\n  //         instansi: isi.instansi,\n  //         keterangan:<div className=\"editdelete\"> <Link to=\"/pengguna/edit\" onClick={() => this.editData(isi.card_id)}><i className=\"fa fa-pencil\"></i></Link> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.card_id,isi.card_id,isi.name,isi.instansi)}> <i className=\"fa fa-trash\"></i></a> </div>\n  //       }\n  //     })\n  //   };\n  //   var y = 1;\n  //   const dataclient = {\n  //     columns: [\n  //       {\n  //         label: 'No',\n  //         field: 'no',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Scard ID',\n  //         field: 'scardid',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'NIP/NIM',\n  //         field: 'nipnim',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Nama',\n  //         field: 'nama',\n  //         sort: 'asc',\n  //       },\n  //       {\n  //         label: 'Instansi',\n  //         field: 'instansi',\n  //         sort: 'asc',\n  //       }\n  //     ],\n  //     rows: this.state.isidata.map(isi=>{\n  //       return {\n  //         no:no(y++),\n  //         scardid: isi.card_id,\n  //         nipnim:isi.nim,\n  //         nama:isi.name,\n  //         instansi: isi.instansi,\n  //       }\n  //     })\n  //   };\n  //   const {editID}= this.state;\n  //   if (sessionStorage.message===\"admin\"){\n  //     return (              \n  //       <div>\n            // <div>\n            //   <Switch>\n            //     <Route path=\"/pengguna/daftar\" render={ () => <Daftarpengguna token={this.props.token} /> } />\n            //     <Route path=\"/pengguna/edit\" render={ () => <Editpengguna token={this.props.token} editID={editID}/> } />\n            //   </Switch>\n            // </div>\n           \n  //            <div className=\"box-footer\">  \n                // <div className=\"kotakdaftarruangan\">\n                //   <Link to=\"/pengguna/daftar\">\n                //     <div className=\"daftar\">\n                //       <i className=\"fa fa-plus\"></i> \n                //       <span> Pengguna </span>\n                //     </div>\n                //   </Link>\n                //   <span>\n                //     <a onClick={() => this.refresh()}>\n                //       <div className=\"daftar2\">\n                //         <i className=\"fa fa-refresh\"></i>\n                //       </div>\n                //     </a>\n                //   </span>\n                // </div>\n  //               <div className=\"isitabel\">\n  //                   <MDBDataTable\n  //                   responsive\n  //                   striped\n  //                   bordered\n  //                   small\n  //                   hover\n  //                   data={dataadmin}\n  //                   />\n  //               </div> \n  //           </div>\n  //       </div>        \n  //     );\n  //   }\n  //   else{\n  //     return (              \n  //       <div>\n  //         <div className=\"box-footer\">  \n  //           <div className=\"isitabel\">\n  //             <MDBDataTable\n  //             responsive\n  //             striped\n  //             bordered\n  //             small\n  //             hover\n  //             data={dataclient}\n  //             />\n  //           </div> \n  //         </div>\n  //       </div>        \n  //     );\n  //   }\n    \n  // }\n}\n\nexport default withRouter(Pengguna);\n"]},"metadata":{},"sourceType":"module"}