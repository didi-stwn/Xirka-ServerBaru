{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/client.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport { Route, Link, withRouter } from \"react-router-dom\";\nimport Daftarclient from './daftarclient';\nimport Editclient from './editclient';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Client extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      editID: '',\n      user: '',\n      pass: '',\n      gagal: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n    let h = new Headers();\n    h.append('Authorization', 'Basic ' + btoa(username + ':' + password));\n    fetch('https://192.168.2.7/smartlock/api/v1/login/', {\n      method: 'GET',\n      headers: h\n    }).then(response => {\n      if (response.status === 200) {\n        sessionStorage.setItem(\"login\", \"true\");\n        window.location.reload();\n      } else {\n        this.setState({\n          gagal: true\n        });\n      }\n    });\n  }\n\n  deleteData(e, f, g) {\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Username = \" + e + \", Password= \" + f + \", Nama Client= \" + g + \" ?\");\n\n    if (yes === true) {\n      let he = new Headers();\n      let token = this.props.token;\n      he.append('x-access-token', token);\n      fetch('http://192.168.2.7:3000/client/' + e, {\n        method: 'delete',\n        headers: he\n      }).then(response => {\n        if (response.ok) {\n          window.alert(\"Data berhasil dihapus\");\n        } else {\n          window.alert(\"Data tidak berhasil dihapus\");\n        }\n      });\n    }\n  }\n\n  editData(e) {\n    this.setState({\n      editID: e\n    });\n  }\n\n  componentDidMount() {\n    let he = new Headers();\n    let token = this.props.token;\n    he.append('x-access-token', token);\n    fetch('http://192.168.2.7:3000/client', {\n      method: 'GET',\n      headers: he\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data\n    }));\n  }\n\n  refresh() {\n    let he = new Headers();\n    let token = this.props.token;\n    he.append('x-access-token', token);\n    fetch('http://192.168.2.7:3000/client', {\n      method: 'GET',\n      headers: he\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data\n    }));\n  }\n\n  render() {\n    const isidata = this.state.isidata;\n    console.log(isidata);\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    const data = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'Username',\n        field: 'username',\n        sort: 'asc'\n      }, {\n        label: 'Password',\n        field: 'password',\n        sort: 'asc'\n      }, {\n        label: 'Nama Client',\n        field: 'namaclient',\n        sort: 'asc'\n      }, {\n        label: 'Keterangan',\n        field: 'keterangan'\n      }],\n      rows: isidata.map(isi => {\n        return {\n          no: no(x++),\n          username: isi.username,\n          password: isi.password,\n          namaclient: isi.name,\n          keterangan: React.createElement(\"div\", {\n            className: \"editdelete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, \" \", React.createElement(Link, {\n            to: \"/client/edit\",\n            onClick: () => this.editData(isi.username),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          })), \" | \", React.createElement(\"a\", {\n            className: \"mousepointer\",\n            onClick: () => this.deleteData(isi.username, isi.password, isi.name),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fa fa-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          })), \" \")\n        };\n      })\n    };\n    const _this$state2 = this.state,\n          editID = _this$state2.editID,\n          gagal = _this$state2.gagal;\n\n    if (sessionStorage.login === \"true\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/client/daftar\",\n        render: () => React.createElement(Daftarclient, {\n          token: this.props.token,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/client/edit\",\n        render: () => React.createElement(Editclient, {\n          token: this.props.token,\n          editID: editID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"box-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"kotakdaftarruangan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/client/daftar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"daftar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" Client \"))), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: () => this.refresh(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"daftar2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-refresh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \" Client \"))))), React.createElement(\"div\", {\n        className: \"isitabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(MDBDataTable, {\n        responsive: true,\n        striped: true,\n        bordered: true,\n        hover: true,\n        data: data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"loginclientt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"loginclient\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"loginnim\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        className: \"inputnim2\",\n        name: \"username\",\n        placeholder: \"Username\",\n        onChange: this.handleChange,\n        type: \"text\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        className: \"loginpass\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        className: \"inputpass2\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: this.handleChange,\n        type: \"password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }), gagal && React.createElement(\"p\", {\n        className: \"gagallogin2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"*username or password is incorrect\"), React.createElement(\"button\", {\n        className: \"submitform\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Login\\xA0\"), React.createElement(\"i\", {\n        className: \"fa fa-sign-in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }))))));\n    }\n  }\n\n}\n\nexport default withRouter(Client);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/client.js"],"names":["React","Component","MDBDataTable","Route","Link","withRouter","Daftarclient","Editclient","Client","constructor","props","state","isidata","editID","user","pass","gagal","handleChange","bind","handleSubmit","e","target","name","value","setState","preventDefault","username","password","h","Headers","append","btoa","fetch","method","headers","then","response","status","sessionStorage","setItem","window","location","reload","deleteData","f","g","yes","confirm","he","token","ok","alert","editData","componentDidMount","json","data","refresh","render","console","log","x","no","i","m","hasil","columns","label","field","sort","rows","map","isi","namaclient","keterangan","login"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport {Route,Link,withRouter} from \"react-router-dom\";\nimport Daftarclient from './daftarclient';\nimport Editclient from './editclient';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Client extends Component{\n    constructor(props) {\n      super(props);\n      this.state = {\n        isidata: [],\n        editID:'',\n        user:'',\n        pass:'',\n        gagal: false,\n      };\n      this.handleChange = this.handleChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    handleChange(e) {\n      const { name, value } = e.target;\n      this.setState({ [name]: value });\n    }\n    \n    handleSubmit(e){\n        e.preventDefault();\n        const {username, password} = this.state\n        let h= new Headers()\n        h.append ('Authorization', 'Basic ' + btoa(username + ':' + password))\n        fetch('https://192.168.2.7/smartlock/api/v1/login/', {\n           method: 'GET',\n           headers: h\n        })\n        .then(response => {\n            if(response.status === 200) {\n                sessionStorage.setItem(\"login\",\"true\")\n                window.location.reload();\n            }\n            else{\n                this.setState({gagal:true})\n            }\n        })\n    }\n\n    deleteData(e,f,g){\n      var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Username = \" +e+\", Password= \"+f+\", Nama Client= \"+g+\" ?\");\n      if (yes === true){\n        let he= new Headers()\n        let token = this.props.token\n        he.append ('x-access-token', token)\n        fetch('http://192.168.2.7:3000/client/'+e, {\n          method: 'delete',\n          headers: he \n        })\n        .then(response=>{\n          if (response.ok){\n            window.alert(\"Data berhasil dihapus\")\n          }\n          else{\n            window.alert(\"Data tidak berhasil dihapus\")\n          }\n        })\n      }\n    }\n\n    editData(e){\n      this.setState({editID:e})\n    }\n\n    componentDidMount(){\n      let he= new Headers()\n      let token = this.props.token\n      he.append ('x-access-token', token)\n      fetch('http://192.168.2.7:3000/client', {\n        method: 'GET',\n        headers: he\n      })\n      .then(response=>response.json())\n      .then(data => this.setState({isidata: data}))\n    }\n\n    refresh(){\n      let he= new Headers()\n      let token = this.props.token\n      he.append ('x-access-token', token)\n      fetch('http://192.168.2.7:3000/client', {\n        method: 'GET',\n        headers: he\n      })\n      .then(response=>response.json())\n      .then(data => this.setState({isidata: data}))\n    }\n\n    \n  \n    render(){\n        const {isidata} = this.state;\n        console.log(isidata)\n        var x=1;\n        function no(i){\n            var m=0\n            var hasil=m+i\n            return  hasil\n        }\n        const data = {\n        columns: [\n          {\n            label: 'No',\n            field: 'no',\n            sort: 'asc',\n          },\n          {\n            label: 'Username',\n            field: 'username',\n            sort: 'asc',\n          },\n          {\n            label: 'Password',\n            field: 'password',\n            sort: 'asc',\n          },\n          {\n            label: 'Nama Client',\n            field: 'namaclient',\n            sort: 'asc',\n          },\n          {\n            label: 'Keterangan',\n            field: 'keterangan'\n          }\n        ],\n        rows: isidata.map(isi=>{\n          return {\n            no:no(x++),\n            username:isi.username,\n            password:isi.password,\n            namaclient:isi.name,\n            keterangan:<div className=\"editdelete\"> <Link to=\"/client/edit\" onClick={() => this.editData(isi.username)}><i className=\"fa fa-pencil\"></i></Link> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.username,isi.password,isi.name)}> <i className=\"fa fa-trash\"></i></a> </div>\n            }\n            })\n        };\n        const {editID,gagal}= this.state;\n        if (sessionStorage.login===\"true\"){\n            return (\n                <div>\n                  <div>\n                    <Route path=\"/client/daftar\" render={ () => <Daftarclient token={this.props.token} /> } />\n                    <Route path=\"/client/edit\" render={ () => <Editclient token={this.props.token} editID={editID}/> } />\n                  </div>\n                   \n                  <div className=\"box-footer\">\n                      <div className=\"kotakdaftarruangan\">\n                          <Link to=\"/client/daftar\">\n                            <div className=\"daftar\">\n                              <i className=\"fa fa-plus\"></i> \n                              <span> Client </span>\n                            </div>\n                          </Link>\n                          <span>\n                            <a onClick={() => this.refresh()}>\n                              <div className=\"daftar2\">\n                                <i className=\"fa fa-refresh\"></i>\n                                <span> Client </span>\n                              </div>\n                            </a>\n                          </span>\n                      </div>\n                      <div className=\"isitabel\">\n                          <MDBDataTable\n                          responsive\n                          striped\n                          bordered\n                          hover\n                          data={data}\n                          /> \n                      </div>  \n                  </div>\n                </div>       \n            );\n        }\n        else {\n            return(\n                <div className=\"loginclientt\">\n                    <div className=\"loginclient\">\n                        <form  onSubmit={this.handleSubmit}>\n                            <h2 className=\"loginnim\">Username</h2>\n                            <input className=\"inputnim2\" name=\"username\" placeholder=\"Username\"  onChange={this.handleChange} type=\"text\" required/>\n                            <br></br>\n\n                            <h2 className=\"loginpass\">Password</h2>\n                            <input className=\"inputpass2\" name=\"password\" placeholder=\"Password\" onChange={this.handleChange} type=\"password\" required/>\n                            <br></br>\n                            {\n                                gagal &&\n                                <p className=\"gagallogin2\">*username or password is incorrect</p>\n                            }\n                            <button className=\"submitform\" type=\"submit\"> \n                                <span>\n                                    <span>\n                                        Login&nbsp;\n                                    </span>\n                                    <i className=\"fa fa-sign-in\"> \n                                    </i>\n                                </span>\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            )\n        }   \n      \n    }\n}\nexport default withRouter(Client);"]},"metadata":{},"sourceType":"module"}