{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/ruangan.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport { Route, Link, withRouter, Switch } from \"react-router-dom\";\nimport Daftarruangan from './daftarruangan';\nimport Editruangan from './editruangan';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Ruangan extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      editID: '',\n      daftar: false,\n      edit: false,\n      idc: '',\n      namac: '',\n      datasalah: false,\n      databenar: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmitDaftar = this.handleSubmitDaftar.bind(this);\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmitDaftar(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          idc = _this$state.idc,\n          namac = _this$state.namac;\n    fetch('http://192.168.2.7:8020/doorlog/registerRoom/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id_ruangan: idc,\n        nama_ruangan: namac\n      })\n    }).then(response => {\n      if (response.ok) {\n        this.setState({\n          databenar: true\n        });\n        this.setState({\n          datasalah: false\n        });\n      } else {\n        this.setState({\n          datasalah: true\n        });\n        this.setState({\n          databenar: false\n        });\n      }\n    });\n  }\n\n  componentWillMount() {\n    fetch('http://192.168.2.7:8020/doorlog/rooms/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  componentDidUpdate() {\n    fetch('http://192.168.2.7:8020/doorlog/rooms/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  deleteData(e, f) {\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: ID Ruangan = \" + e + \", Nama Ruangan= \" + f);\n\n    if (yes === true) {\n      fetch('http://192.168.2.7:8020/doorlog/deleteRoom/', {\n        method: 'post',\n        headers: {\n          \"Authorization\": \"Bearer \" + sessionStorage.name,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id_ruangan: e\n        })\n      }).then(response => {\n        if (response.ok) {\n          window.alert(\"Data berhasil dihapus\");\n        } else {\n          window.alert(\"Data tidak berhasil dihapus\");\n        }\n      });\n    }\n  }\n\n  showDaftar() {\n    this.setState({\n      daftar: true\n    });\n  }\n\n  hideDaftar() {\n    this.setState({\n      daftar: false\n    });\n  }\n\n  showEdit() {\n    this.setState({\n      edit: true\n    });\n  }\n\n  hideEdit() {\n    this.setState({\n      edit: false\n    });\n  }\n\n  editData(e) {\n    this.setState({\n      editID: e\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          editID = _this$state2.editID,\n          daftar = _this$state2.daftar,\n          edit = _this$state2.edit,\n          databenar = _this$state2.databenar,\n          datasalah = _this$state2.datasalah,\n          idc = _this$state2.idc,\n          namac = _this$state2.namac;\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    const data = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'ID Ruangan',\n        field: 'idruangan',\n        sort: 'asc'\n      }, {\n        label: 'Nama Ruangan',\n        field: 'namaruangan',\n        sort: 'asc'\n      }, {\n        label: 'Keterangan',\n        field: 'keterangan'\n      }],\n      rows: this.state.isidata.map(isi => {\n        return {\n          no: no(x++),\n          idruangan: isi.kode_ruangan,\n          namaruangan: isi.nama_ruangan,\n          keterangan: React.createElement(\"div\", {\n            className: \"editdelete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, \" \", React.createElement(Link, {\n            to: \"/pengguna/edit\",\n            onClick: () => this.editData(isi.card_id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          })), \" | \", React.createElement(\"a\", {\n            className: \"mousepointer\",\n            onClick: () => this.deleteData(isi.card_id, isi.card_id, isi.name, isi.instansi),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fa fa-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          })), \" \")\n        };\n      })\n    };\n    var aksidata, aksidaftar, aksiedit;\n\n    if (daftar === true) {\n      aksidata = \"show\";\n      aksidaftar = \"show\";\n      aksiedit = \"hide\";\n    } else if (edit === true) {\n      aksidata = \"show\";\n      aksidaftar = \"hide\";\n      aksiedit = \"hide\";\n    } else {\n      aksidata = \"hide\";\n      aksidaftar = \"hide\";\n      aksiedit = \"hide\";\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakfilter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"kotakforminputlogpintu\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakinputpenggunanim\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \" ID Ruangan \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"idc\",\n      onChange: this.handleChange,\n      className: \"inputformpenggunanim\",\n      type: \"text\",\n      placeholder: \"ID Ruangan\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotakinputpenggunanama\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \" Nama Ruangan\"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"namac\",\n      onChange: this.handleChange,\n      className: \"inputformpenggunanama\",\n      type: \"text\",\n      placeholder: \"Nama Ruangan\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    })), databenar && React.createElement(\"p\", {\n      className: \"texthijau\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"*Data berhasil disimpan\"), datasalah && React.createElement(\"p\", {\n      className: \"textmerah\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"*Data yang diinput salah\"), databenar === false && datasalah === false && React.createElement(\"p\", {\n      className: \"texthijau\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"\\u2003\"), React.createElement(\"div\", {\n      className: \"kotaksubmitpengguna\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"submitformlogpintu\",\n      type: \"submit\",\n      value: \"Add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotakcancelpengguna\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/ruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \" \", React.createElement(\"span\", {\n      className: \"cancelformpengguna\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Cancel\")))), React.createElement(\"div\", {\n      className: \"paddingtop30px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: aksidata,\n      className: \"box-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakdaftarruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.showDaftar(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"daftar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \" Ruangan \")))), React.createElement(\"div\", {\n      className: \"isitabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(MDBDataTable, {\n      responsive: true,\n      displayEntries: false,\n      info: false,\n      paging: false,\n      striped: true,\n      bordered: true,\n      small: true,\n      hover: true,\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withRouter(Ruangan);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/ruangan.js"],"names":["React","Component","MDBDataTable","Route","Link","withRouter","Switch","Daftarruangan","Editruangan","Ruangan","constructor","props","state","isidata","editID","daftar","edit","idc","namac","datasalah","databenar","handleChange","bind","handleSubmitDaftar","e","target","name","value","setState","preventDefault","fetch","method","headers","sessionStorage","body","JSON","stringify","id_ruangan","nama_ruangan","then","response","ok","componentWillMount","json","list","componentDidUpdate","deleteData","f","yes","window","confirm","alert","showDaftar","hideDaftar","showEdit","hideEdit","editData","render","x","no","i","m","hasil","data","columns","label","field","sort","rows","map","isi","idruangan","kode_ruangan","namaruangan","keterangan","card_id","instansi","aksidata","aksidaftar","aksiedit","handleSubmit"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport {Route,Link,withRouter,Switch} from \"react-router-dom\";\nimport Daftarruangan from './daftarruangan';\nimport Editruangan from './editruangan';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Ruangan extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      editID:'',\n      daftar: false,\n      edit:false,\n      idc:'',\n      namac:'',\n      datasalah: false,\n      databenar: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmitDaftar = this.handleSubmitDaftar.bind(this);\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmitDaftar(e){\n    e.preventDefault();\n    const {idc,namac} = this.state\n    fetch('http://192.168.2.7:8020/doorlog/registerRoom/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      },\n      body: JSON.stringify({\n        id_ruangan: idc,\n        nama_ruangan: namac\n      })\n    })\n    .then(response => {\n      if (response.ok){\n        this.setState({databenar:true})\n        this.setState({datasalah:false})\n      }\n      else {\n        this.setState({datasalah:true})\n        this.setState({databenar:false})\n      }\n    })\n  }\n\n  componentWillMount(){\n    fetch('http://192.168.2.7:8020/doorlog/rooms/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      }\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list}))\n  }\n\n  componentDidUpdate(){\n    fetch('http://192.168.2.7:8020/doorlog/rooms/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      }\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list}))\n  }\n\n  deleteData(e,f){\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: ID Ruangan = \" +e+\", Nama Ruangan= \"+f);\n    if (yes === true){\n      fetch('http://192.168.2.7:8020/doorlog/deleteRoom/', {\n        method: 'post',\n        headers :{\n          \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n          \"Content-Type\" : \"application/json\"\n        },\n        body: JSON.stringify({\n          id_ruangan: e\n          })\n      })\n      .then(response=>{\n        if (response.ok){\n          window.alert(\"Data berhasil dihapus\")\n        }\n        else{\n          window.alert(\"Data tidak berhasil dihapus\")\n        }\n      })\n    }\n  }\n\n  showDaftar(){\n    this.setState({daftar:true})\n  }\n  hideDaftar(){\n    this.setState({daftar:false})\n  }\n\n  showEdit(){\n    this.setState({edit:true})\n  }\n  hideEdit(){\n    this.setState({edit:false})\n  }\n\n  editData(e){\n    this.setState({editID:e})\n  }\n\n  render(){\n    const {editID,daftar,edit,databenar,datasalah,idc,namac} = this.state\n    var x = 1;\n    function no(i){\n      var m=0\n      var hasil=m+i\n      return  hasil\n    }\n    const data = {\n      columns: [\n        {\n          label: 'No',\n          field: 'no',\n          sort: 'asc',\n        },\n        {\n          label: 'ID Ruangan',\n          field: 'idruangan',\n          sort: 'asc',\n        },\n        {\n          label: 'Nama Ruangan',\n          field: 'namaruangan',\n          sort: 'asc',\n        },\n        {\n          label: 'Keterangan',\n          field: 'keterangan'\n        }\n      ],\n      rows: this.state.isidata.map(isi=>{\n        return {\n          no:no(x++),\n          idruangan: isi.kode_ruangan,\n          namaruangan:isi.nama_ruangan,\n          keterangan:<div className=\"editdelete\"> <Link to=\"/pengguna/edit\" onClick={() => this.editData(isi.card_id)}><i className=\"fa fa-pencil\"></i></Link> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.card_id,isi.card_id,isi.name,isi.instansi)}> <i className=\"fa fa-trash\"></i></a> </div>\n        }\n      })\n    };\n\n    var aksidata,aksidaftar,aksiedit\n    if (daftar===true){\n      aksidata = \"show\"\n      aksidaftar = \"show\"\n      aksiedit = \"hide\"\n    }\n    else if (edit===true){\n      aksidata = \"show\"\n      aksidaftar = \"hide\"\n      aksiedit = \"hide\"\n    }\n    else {\n      aksidata = \"hide\"\n      aksidaftar = \"hide\"\n      aksiedit = \"hide\"\n    }\n    return(\n      <div>\n          <div>\n            <div className=\"kotakfilter\"> \n              <form className=\"kotakforminputlogpintu\" onSubmit={this.handleSubmit}>\n                    \n                <div className=\"kotakinputpenggunanim\">\n                  <label> ID Ruangan </label> <br></br>\n                  <input name=\"idc\" onChange={this.handleChange} className=\"inputformpenggunanim\" type=\"text\" placeholder=\"ID Ruangan\" required></input>\n                </div>\n\n                <div className=\"kotakinputpenggunanama\">\n                  <label> Nama Ruangan</label> <br></br>\n                  <input name=\"namac\" onChange={this.handleChange} className=\"inputformpenggunanama\" type=\"text\" placeholder=\"Nama Ruangan\" required ></input>\n                </div> \n                    \n                {\n                  databenar && \n                  <p className=\"texthijau\">*Data berhasil disimpan</p>\n                }\n                {\n                  datasalah &&\n                  <p className=\"textmerah\">*Data yang diinput salah</p>\n                }\n                { \n                  (databenar===false && datasalah===false) &&\n                  <p className=\"texthijau\">&emsp;</p>\n                }\n                <div className=\"kotaksubmitpengguna\">\n                  <input className=\"submitformlogpintu\" type=\"submit\" value=\"Add\"></input>\n                </div>\n\n                <div className=\"kotakcancelpengguna\">\n                  <Link to=\"/ruangan\"> <span className=\"cancelformpengguna\">Cancel</span></Link>\n                </div>\n              </form> \n              <div className=\"paddingtop30px\">\n              </div>\n            </div>\n          </div>\n          <div id={aksidata} className=\"box-footer\">\n              <div className=\"kotakdaftarruangan\">\n                <a onClick={() => this.showDaftar()}>\n                  <div className=\"daftar\">\n                    <i className=\"fa fa-plus\"></i> \n                    <span> Ruangan </span>\n                  </div>\n                </a>\n              </div>\n              <div className=\"isitabel\">\n                <MDBDataTable\n                responsive\n                displayEntries={false}\n                info={false}\n                paging={false}\n                striped\n                bordered\n                small\n                hover\n                data={data}\n                />\n              </div>  \n          </div>\n      </div>\n    )\n  } \n}\nexport default withRouter(Ruangan);"]},"metadata":{},"sourceType":"module"}