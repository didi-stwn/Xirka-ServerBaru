{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/ruangan.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport { Route, Link, withRouter } from \"react-router-dom\";\nimport Daftarruangan from './daftarruangan';\nimport Editruangan from './editruangan';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Ruangan extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      editID: ''\n    };\n  }\n\n  deleteData(e, f, g) {\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Terminal ID = \" + e + \", Nama Ruangan= \" + f + \", Instansi= \" + g + \" ?\");\n\n    if (yes === true) {\n      let he = new Headers();\n      let token = this.props.token;\n      he.append('x-access-token', token);\n      fetch('http://192.168.2.7:3000/terminal/' + e, {\n        method: 'delete',\n        headers: he\n      }).then(response => {\n        if (response.ok) {\n          window.alert(\"Data berhasil dihapus\");\n        } else {\n          window.alert(\"Data tidak berhasil dihapus\");\n        }\n      });\n    }\n  }\n\n  editData(e) {\n    this.setState({\n      editID: e\n    });\n  }\n\n  componentDidMount() {\n    let he = new Headers();\n    let token = this.props.token;\n    he.append('x-access-token', token);\n    fetch('http://192.168.2.7:3000/terminal', {\n      method: 'GET',\n      headers: he\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data\n    }));\n  }\n\n  refresh() {\n    let he = new Headers();\n    let token = this.props.token;\n    he.append('x-access-token', token);\n    fetch('http://192.168.2.7:3000/terminal', {\n      method: 'GET',\n      headers: he\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data\n    }));\n  }\n\n  render() {\n    sessionStorage.removeItem(\"login\");\n    const isidata = this.state.isidata;\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    const dataadmin = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'Terminal ID',\n        field: 'terminalid',\n        sort: 'asc'\n      }, {\n        label: 'Nama Ruangan',\n        field: 'namaruangan',\n        sort: 'asc'\n      }, {\n        label: 'Instansi',\n        field: 'instansi',\n        sort: 'asc'\n      }, {\n        label: 'Keterangan',\n        field: 'keterangan'\n      }],\n      rows: isidata.map(isi => {\n        return {\n          no: no(x++),\n          terminalid: isi.terminal_id,\n          namaruangan: isi.room,\n          instansi: isi.instansi,\n          keterangan: React.createElement(\"div\", {\n            className: \"editdelete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, \" \", React.createElement(Link, {\n            to: \"/ruangan/edit\",\n            onClick: () => this.editData(isi.terminal_id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          })), \" | \", React.createElement(\"a\", {\n            className: \"mousepointer\",\n            onClick: () => this.deleteData(isi.terminal_id, isi.room, isi.instansi),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fa fa-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          })), \" \")\n        };\n      })\n    };\n    var y = 1;\n    const dataclient = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'Terminal ID',\n        field: 'terminalid',\n        sort: 'asc'\n      }, {\n        label: 'Nama Ruangan',\n        field: 'namaruangan',\n        sort: 'asc'\n      }, {\n        label: 'Instansi',\n        field: 'instansi',\n        sort: 'asc'\n      }],\n      rows: isidata.map(isi => {\n        return {\n          no: no(y++),\n          terminalid: isi.terminal_id,\n          namaruangan: isi.room,\n          instansi: isi.instansi\n        };\n      })\n    };\n    const editID = this.state.editID;\n\n    if (sessionStorage.message === \"admin\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/ruangan/daftar\",\n        render: () => React.createElement(Daftarruangan, {\n          token: this.props.token,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ruangan/edit\",\n        render: () => React.createElement(Editruangan, {\n          token: this.props.token,\n          editID: editID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"box-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"kotakdaftarruangan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/ruangan/daftar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"daftar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \" Ruangan \"))), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: () => this.refresh(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"daftar2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-refresh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"isitabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(MDBDataTable, {\n        responsive: true,\n        striped: true,\n        bordered: true,\n        hover: true,\n        data: dataadmin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"isitabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(MDBDataTable, {\n        responsive: true,\n        striped: true,\n        bordered: true,\n        hover: true,\n        data: dataclient,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nexport default withRouter(Ruangan);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/ruangan.js"],"names":["React","Component","MDBDataTable","Route","Link","withRouter","Daftarruangan","Editruangan","Ruangan","constructor","props","state","isidata","editID","deleteData","e","f","g","yes","window","confirm","he","Headers","token","append","fetch","method","headers","then","response","ok","alert","editData","setState","componentDidMount","json","data","refresh","render","sessionStorage","removeItem","x","no","i","m","hasil","dataadmin","columns","label","field","sort","rows","map","isi","terminalid","terminal_id","namaruangan","room","instansi","keterangan","y","dataclient","message"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport {Route,Link,withRouter} from \"react-router-dom\";\nimport Daftarruangan from './daftarruangan';\nimport Editruangan from './editruangan';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Ruangan extends Component{\n    constructor(props) {\n      super(props);\n      this.state = {\n        isidata: [],\n        editID:'',\n      };\n    }\n\n    deleteData(e,f,g){\n      var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: Terminal ID = \" +e+\", Nama Ruangan= \"+f+\", Instansi= \"+g+\" ?\");\n      if (yes === true){\n        let he= new Headers()\n        let token = this.props.token\n        he.append ('x-access-token', token)\n        fetch('http://192.168.2.7:3000/terminal/'+e, {\n          method: 'delete',\n          headers: he \n        })\n        .then(response=>{\n          if (response.ok){\n            window.alert(\"Data berhasil dihapus\")\n          }\n          else{\n            window.alert(\"Data tidak berhasil dihapus\")\n          }\n        })\n      }\n    }\n\n    editData(e){\n      this.setState({editID:e})\n    }\n\n    componentDidMount(){\n      let he= new Headers()\n      let token = this.props.token\n      he.append ('x-access-token', token)\n      fetch('http://192.168.2.7:3000/terminal', {\n        method: 'GET',\n        headers: he\n      })\n      .then(response=>response.json())\n      .then(data => this.setState({isidata: data}))\n    }\n\n    refresh(){\n      let he= new Headers()\n      let token = this.props.token\n      he.append ('x-access-token', token)\n      fetch('http://192.168.2.7:3000/terminal', {\n        method: 'GET',\n        headers: he\n      })\n      .then(response=>response.json())\n      .then(data => this.setState({isidata: data}))\n    }\n\n    \n  \n    render(){\n      sessionStorage.removeItem(\"login\");\n      const {isidata} = this.state;\n      var x=1;\n      function no(i){\n        var m=0\n        var hasil=m+i\n        return  hasil\n      }\n      const dataadmin = {\n        columns: [\n          {\n            label: 'No',\n            field: 'no',\n            sort: 'asc',\n          },\n          {\n            label: 'Terminal ID',\n            field: 'terminalid',\n            sort: 'asc',\n          },\n          {\n            label: 'Nama Ruangan',\n            field: 'namaruangan',\n            sort: 'asc',\n          },\n          {\n            label: 'Instansi',\n            field: 'instansi',\n            sort: 'asc',\n          },\n          {\n            label: 'Keterangan',\n            field: 'keterangan'\n          }\n        ],\n        rows: isidata.map(isi=>{\n          return {\n            no:no(x++),\n            terminalid:isi.terminal_id,\n            namaruangan:isi.room,\n            instansi: isi.instansi,\n            keterangan:<div className=\"editdelete\"> <Link to=\"/ruangan/edit\" onClick={() => this.editData(isi.terminal_id)}><i className=\"fa fa-pencil\"></i></Link> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.terminal_id,isi.room,isi.instansi)}> <i className=\"fa fa-trash\"></i></a> </div>\n          }\n        })\n      };\n      var y=1;\n      const dataclient = {\n        columns: [\n          {\n            label: 'No',\n            field: 'no',\n            sort: 'asc',\n          },\n          {\n            label: 'Terminal ID',\n            field: 'terminalid',\n            sort: 'asc',\n          },\n          {\n            label: 'Nama Ruangan',\n            field: 'namaruangan',\n            sort: 'asc',\n          },\n          {\n            label: 'Instansi',\n            field: 'instansi',\n            sort: 'asc',\n          }\n        ],\n        rows: isidata.map(isi=>{\n          return {\n            no:no(y++),\n            terminalid:isi.terminal_id,\n            namaruangan:isi.room,\n            instansi: isi.instansi,\n          }\n        })\n      };\n      const {editID}= this.state;\n      if (sessionStorage.message===\"admin\"){\n        return (\n          <div>\n            <div>\n              <Route path=\"/ruangan/daftar\" render={ () => <Daftarruangan token={this.props.token} /> } />\n              <Route path=\"/ruangan/edit\" render={ () => <Editruangan token={this.props.token} editID={editID}/> } />\n            </div>\n             \n            <div className=\"box-footer\">\n                <div className=\"kotakdaftarruangan\">\n                    <Link to=\"/ruangan/daftar\">\n                      <div className=\"daftar\">\n                        <i className=\"fa fa-plus\"></i> \n                        <span> Ruangan </span>\n                      </div>\n                    </Link>\n                    <span>\n                      <a onClick={() => this.refresh()}>\n                        <div className=\"daftar2\">\n                          <i className=\"fa fa-refresh\"></i>\n                        </div>\n                      </a>\n                    </span>\n                </div>\n                <div className=\"isitabel\">\n                    <MDBDataTable\n                    responsive\n                    striped\n                    bordered\n                    hover\n                    data={dataadmin}\n                    /> \n                </div>  \n            </div>\n          </div>       \n        );        \n      }\n      else{\n        return (\n          <div>\n            <div className=\"box-footer\">\n              <div className=\"isitabel\">\n                <MDBDataTable\n                responsive\n                striped\n                bordered\n                hover\n                data={dataclient}\n                /> \n              </div>  \n            </div>\n          </div>       \n        );\n      }\n    }\n}\nexport default withRouter(Ruangan);"]},"metadata":{},"sourceType":"module"}