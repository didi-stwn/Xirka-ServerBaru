{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/ruanganuser.js\";\nimport React, { Component } from 'react';\nimport Pdf from \"react-to-pdf\";\nimport ReactExport from \"react-data-export\";\nimport { withRouter } from 'react-router-dom';\n\nclass Laporan extends Component {\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, \"laporan\");\n  } // constructor(props) {\n  //     super(props);\n  //     this.state = {\n  //       isidata: [],\n  //       ins: [],\n  //       getRangeDate: [],\n  //       periodeLaporan:false,\n  //       nim: '',\n  //       startDate: '',\n  //       endDate:'',\n  //       datasalah: false,\n  //     };\n  //     this.handleChange = this.handleChange.bind(this);\n  //     this.handleSubmit = this.handleSubmit.bind(this);\n  //     }\n  //     handleChange(e) {\n  //         const { name, value } = e.target;\n  //         this.setState({ [name]: value });\n  //     }\n  //     handleSubmit(e){\n  //         e.preventDefault();\n  //         const {nim,startDate,endDate} = this.state\n  //          var filter\n  //         filter = nim\n  //         let h = new Headers();\n  //         h.append ('Authorization', 'Basic YWRtaW46YmFuZHVuZzEyMw==')\n  //         fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit='+this.props.limit+\"&scard_id=\"+filter, {\n  //         method: 'GET',\n  //         headers: h\n  //         })\n  //         .then(response=>response.json())\n  //         .then(data => {\n  //             if (data.code===200){\n  //                 this.setState({isidata: data.results})\n  //                 this.setState({periodeLaporan:true})\n  //                 this.setState({datasalah:false})\n  //             }    \n  //             else {\n  //                 this.setState({datasalah:true})\n  //             }\n  //         })     \n  //         //mengambil instansi berdasarkan scard id\n  //         let he= new Headers()\n  //         let token = this.props.token\n  //         he.append ('x-access-token', token)\n  //         fetch('http://192.168.2.7:3000/card', {\n  //         method: 'GET',\n  //         headers: he\n  //         })\n  //         .then(response=>response.json())\n  //         .then(data => this.setState({ins: data}))\n  //         function getDateArray(start, end) {\n  //             var hasil = new Array();\n  //             var startdatee = new Date(start);\n  //             var enddatee = new Date(end);\n  //             while (startdatee <= enddatee) {\n  //                 hasil.push(new Date(startdatee));\n  //                 startdatee.setDate(startdatee.getDate() + 1);\n  //             }\n  //             return hasil;\n  //         }\n  //         var dateArr = getDateArray(startDate, endDate);\n  //         this.setState({getRangeDate:dateArr})\n  //     }\n  // render(){\n  //     const {datasalah}= this.state\n  //     sessionStorage.removeItem(\"login\");\n  //     function waktu(t){\n  //         var tahun,bulan,tanggal,tgl,hari,date;\n  //         date = new Date (t)\n  //         tahun = String(date.getFullYear())\n  //         var months = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"];\n  //         bulan = months[(date.getMonth())]\n  //         tgl = date.getDate()\n  //         if (tgl <=9){\n  //             tanggal = \"0\"+String(tgl)\n  //         }\n  //         else {\n  //             tanggal = String(tgl)\n  //         }\n  //         var days = [\"Sun\",\"Mon\",\"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n  //         hari = days[(date.getDay())]\n  //         return hari+\", \"+tanggal+\"-\"+bulan+\"-\"+tahun\n  //     }\n  //     const {isidata,getRangeDate} = this.state\n  //     var nimp, nama, inst;\n  //     function instansi(nim1,array){\n  //         var hasil\n  //         var i\n  //         for ( i=0; i<array.length; i++){\n  //           if (String(nim1)===array[i].card_id){\n  //             hasil = array[i].instansi\n  //             break\n  //           }\n  //           else {\n  //             hasil = ''\n  //           }\n  //         }\n  //         return hasil\n  //     }\n  //     for (var i=0; i<isidata.length; i++){\n  //         nimp = isidata[i].scard_id;\n  //         nama = isidata[i].name;\n  //         inst = instansi(isidata[i].scard_id,this.state.ins)\n  //     }\n  //     const {startDate,endDate, periodeLaporan} = this.state;\n  //     function Periodelaporan(start,end){\n  //         var hasil, awal, akhir, tahunakhir, bulanawal, bulanakhir, tanggalawal, tanggalakhir, tglawal, tglakhir;\n  //         awal = new Date(start);\n  //         akhir = new Date(end);\n  //         tahunakhir = String(akhir.getFullYear())\n  //         var months = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\n  //         bulanawal = months[(awal.getMonth())]\n  //         bulanakhir = months[(akhir.getMonth())]\n  //         tglawal = awal.getDate()\n  //         tglakhir = akhir.getDate()\n  //         if (tglawal <=9){\n  //             tanggalawal = \"0\"+String(tglawal)\n  //         }\n  //         else {\n  //             tanggalawal = String(tglawal)\n  //         }\n  //         if (tglakhir <=9){\n  //             tanggalakhir = \"0\"+String(tglakhir)\n  //         }\n  //         else {\n  //             tanggalakhir = String(tglakhir)\n  //         }\n  //         hasil = tanggalawal+\" \"+bulanawal+\" - \"+tanggalakhir+\" \"+bulanakhir+\" \"+tahunakhir\n  //         if (periodeLaporan){\n  //             return (\n  //                 hasil\n  //             )\n  //         }\n  //     }\n  //     function sekarang(a){\n  //         var hasil, tgl, tanggal, bulan, tahun, j, jam, m, menit;\n  //         tgl = a.getDate();\n  //         if (tgl <=9){\n  //             tanggal = \"0\"+String(tgl)\n  //         }\n  //         else {\n  //             tanggal = String(tgl)\n  //         }\n  //         var months = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\n  //         bulan = months[(a.getMonth())]\n  //         tahun = a.getFullYear();\n  //         j = a.getHours()\n  //         if (j<=9){\n  //             jam = \"0\"+String(j)\n  //         }\n  //         else {\n  //             jam = String(j)\n  //         }\n  //         m = a.getMinutes()\n  //         if (m<=9){\n  //             menit = \"0\"+String(m)\n  //         }\n  //         else {\n  //             menit = String(m)\n  //         }\n  //         hasil =  bulan+\" \"+tanggal+\", \"+tahun+\" \"+jam+\":\"+menit+\":00\"\n  //         if (periodeLaporan){\n  //             return (\n  //                 hasil\n  //             )\n  //         }\n  //     }\n  //     i = 1;\n  //     function masuk(a,b){\n  //         var hasil, tgl, tanggal, tahun, bulan;\n  //         tgl = new Date(a)\n  //         tanggal = tgl.getDate()\n  //         bulan = tgl.getMonth()\n  //         tahun = tgl.getFullYear()\n  //         for (var i=0; i<b.length; i++){\n  //             if (b[i].lockstatus===0){\n  //                 var tanggalmasuk = new Date(b[i].checked_tm)\n  //                 var tanggalmasukk = tanggalmasuk.getDate()\n  //                 var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n  //                 var bulantanggalmasuk = tanggalmasuk.getMonth()\n  //                 var hasilmasuk,j, jam,m, menit;\n  //                 j = tanggalmasuk.getHours()\n  //                 if (j<=9){\n  //                     jam = \"0\"+String(j)\n  //                 }\n  //                 else {\n  //                     jam = String(j)\n  //                 }\n  //                 m = tanggalmasuk.getMinutes()\n  //                 if (m<=9){\n  //                     menit = \"0\"+String(m)\n  //                 }\n  //                 else {\n  //                     menit = String(m)\n  //                 }\n  //                 hasilmasuk = jam + \":\" +menit+\":00\";\n  //                 if ((tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n  //                     hasil = hasilmasuk\n  //                     break\n  //                 }\n  //                 else{\n  //                     hasil = \"-\"\n  //                 }\n  //             }\n  //             else {\n  //                 hasil = \"-\"\n  //             }\n  //         }\n  //         return hasil;\n  //     }\n  //     function keluar(a,b){\n  //         var hasil, tgl, tanggal, tahun, bulan;\n  //         tgl = new Date(a)\n  //         tanggal = tgl.getDate()\n  //         bulan = tgl.getMonth()\n  //         tahun = tgl.getFullYear()\n  //         for (var i=0; i<b.length; i++){\n  //             if ((b[i].lockstatus===1)||(b[i].lockstatus===2)||(b[i].lockstatus===3)){\n  //                 var tanggalmasuk = new Date(b[i].checked_tm)\n  //                 var tanggalmasukk = tanggalmasuk.getDate()\n  //                 var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n  //                 var bulantanggalmasuk = tanggalmasuk.getMonth()\n  //                 var hasilmasuk,j, jam,m, menit;\n  //                 j = tanggalmasuk.getHours()\n  //                 if (j<=9){\n  //                     jam = \"0\"+String(j)\n  //                 }\n  //                 else {\n  //                     jam = String(j)\n  //                 }\n  //                 m = tanggalmasuk.getMinutes()\n  //                 if (m<=9){\n  //                     menit = \"0\"+String(m)\n  //                 }\n  //                 else {\n  //                     menit = String(m)\n  //                 }\n  //                 hasilmasuk = jam + \":\" +menit+\":00\";\n  //                 if ((tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n  //                     hasil = hasilmasuk\n  //                     break\n  //                 }\n  //                 else{\n  //                     hasil = \"-\"\n  //                 }\n  //             }\n  //             else {\n  //                 hasil = \"-\"\n  //             } \n  //         }\n  //         return hasil;\n  //     }\n  //     function total(a,b){\n  //         var hasil, jammasuk,jamkeluar,menitmasuk,menitkeluar, j,m,jam, menit;\n  //         var masukk = String(masuk(a,b))\n  //         var keluarr = String(keluar(a,b))\n  //         menitmasuk = parseInt(masukk.substring(3,5))\n  //         menitkeluar = parseInt(keluarr.substring(3,5))\n  //         jamkeluar = parseInt(keluarr.substring(0,2))\n  //         jammasuk = parseInt(masukk.substring(0,2))\n  //         m = menitkeluar-menitmasuk;\n  //         j = jamkeluar-jammasuk;\n  //         if (m<0){\n  //             m = m + 60;\n  //             j = j - 1;\n  //         }\n  //         if (j<=9){\n  //             jam = \"0\"+String(j)\n  //         }\n  //         else {\n  //             jam = String(j)\n  //         }\n  //         if (m<=9){\n  //             menit = \"0\"+String(m)\n  //         }\n  //         else {\n  //             menit = String(m)\n  //         }\n  //         hasil = jam+\":\"+menit+\":00\";\n  //         if ((masukk===\"-\")||(keluarr===\"-\")){\n  //             return \"-\"\n  //         }\n  //         else {\n  //             return hasil\n  //         }\n  //     }\n  //     function izin(a,b){\n  //         var hasil, tgl, tanggal, tahun, bulan;\n  //         tgl = new Date(a)\n  //         tanggal = tgl.getDate()\n  //         bulan = tgl.getMonth()\n  //         tahun = tgl.getFullYear()\n  //         for (var i=0; i<b.length; i++){\n  //             var tanggalmasuk = new Date(b[i].checked_tm)\n  //             var tanggalmasukk = tanggalmasuk.getDate()\n  //             var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n  //             var bulantanggalmasuk = tanggalmasuk.getMonth()\n  //             if ((b[i].lockstatus===2)&&(tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n  //                 hasil = \"✔\"\n  //                 break\n  //             }\n  //             else{\n  //                 hasil = \" \"\n  //             }\n  //         }\n  //         return hasil;\n  //     }\n  //     function sakit(a,b){\n  //         var hasil, tgl, tanggal, tahun, bulan;\n  //         tgl = new Date(a)\n  //         tanggal = tgl.getDate()\n  //         bulan = tgl.getMonth()\n  //         tahun = tgl.getFullYear()\n  //         for (var i=0; i<b.length; i++){\n  //             var tanggalmasuk = new Date(b[i].checked_tm)\n  //             var tanggalmasukk = tanggalmasuk.getDate()\n  //             var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n  //             var bulantanggalmasuk = tanggalmasuk.getMonth()\n  //             if ((b[i].lockstatus===3)&&(tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n  //                 hasil = \"✔\"\n  //                 break\n  //             }\n  //             else{\n  //                 hasil = \" \"\n  //             }\n  //         }\n  //         return hasil;\n  //     }\n  //     const ref = React.createRef();\n  //     const ExcelFile = ReactExport.ExcelFile;\n  //     const ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n  //     var x=1;\n  //     function no(i){\n  //         var m=0\n  //         var hasil=m+i\n  //         return  hasil\n  //     }\n  //     function getDataXcl(a){\n  //         var data=new Array(a.length);\n  //         x = 1;\n  //         for (var i=0; i<a.length ;i++){\n  //             data[i] = new Array(9) \n  //             data[i][0]=(no(x++))\n  //             data[i][1]=(waktu(a[i]))\n  //             data[i][2]=(masuk(a[i],isidata))\n  //             data[i][3]=(keluar(a[i],isidata))\n  //             data[i][4]=(total(a[i],isidata))\n  //             data[i][5]=\" \"\n  //             data[i][6]=(izin(a[i],isidata))\n  //             data[i][7]=(sakit(a[i],isidata))\n  //             data[i][8]=\" \"\n  //         }\n  //         return data\n  //     }\n  //     const dataXcl = [\n  //         {\n  //             columns: [\" \", \" \", \" \",\" \",\" \",\" \",\" \",\" \",\" \"],\n  //             data: [\n  //                 [\"NIM/NIP\", nimp],\n  //                 [\"Nama\", nama],\n  //                 [\"Instansi\", inst],\n  //                 [\" \"],\n  //                 [\" \"],\n  //                 [\" \",\" \",\" \",\"Pencetak\",sessionStorage.message ],\n  //                 [\"Periode\",Periodelaporan(startDate,endDate),\" \",\"Tanggal Cetak\",sekarang(new Date()) ],\n  //             ]\n  //         },\n  //         {\n  //             ySteps: 2,\n  //             columns: [\n  //                 {title: \"No\", width: {wpx: 30}},\n  //                 {title: \"Hari, Tanggal\", width: {wpx: 120}},\n  //                 {title: \"Jam Masuk\", width: {wpx: 100}},\n  //                 {title: \"Jam Keluar\", width: {wpx: 100}},\n  //                 {title: \"Total Jam/Hari\", width: {wpx: 100}},\n  //                 {title: \"Alfa\", width: {wpx: 50}},\n  //                 {title: \"Izin\", width: {wpx: 50}},\n  //                 {title: \"Sakit\", width: {wpx: 50}},\n  //                 {title: \"Keterangan\", width: {wpx: 100}},\n  //             ],\n  //             data: getDataXcl(getRangeDate)\n  //         }\n  //     ]\n  //     const namaclient = this.props.name\n  //     if (sessionStorage.message===\"admin\"){\n  //         return (\n  //             <div>\n  //                 <div className=\"kotakfilter\"> \n  //                     <form className=\"kotakforminputlogpintu\" onSubmit={this.handleSubmit}>\n  //                         <div className=\"kotakinputlaporannim\">\n  //                             <label> NIM/NIP </label> <br></br>\n  //                             <input name=\"nim\" onChange={this.handleChange} className=\"inputformlaporannim\" type=\"text\" placeholder=\"NIM/NIP\" required></input>\n  //                         </div>\n  //                         <div className=\"kotakinputlaporanstart\">\n  //                             <label> Start Date </label> <br></br>\n  //                             <input name=\"startDate\" onChange={this.handleChange} className=\"inputformlaporanstart\" type=\"date\" required></input>\n  //                         </div> \n  //                         <div className=\"kotakinputlaporanend\">\n  //                             <label> End Date </label> <br></br>\n  //                             <input name=\"endDate\" onChange={this.handleChange} className=\"inputformlaporanend\" type=\"date\" required></input>\n  //                         </div>\n  //                         {\n  //                         datasalah &&\n  //                         <p className=\"textmerah\">*Data yang diinput salah</p>\n  //                         }\n  //                         { \n  //                         (datasalah===false) &&\n  //                         <p className=\"texthijau\">&emsp;</p>\n  //                         }\n  //                         <div className=\"kotaksubmitlaporan\">\n  //                             <input className=\"submitformlogpintu2\" type=\"submit\" value=\"Find\"></input>\n  //                         </div>\n  //                         <div className=\"kotakprintpdflaporan\">\n  //                             <div className=\"printformlaporan\"> \n  //                                 <Pdf targetRef={ref} filename={\"Xirka-\"+nimp}>\n  //                                     {({ toPdf }) =>\n  //                                         <a onClick={toPdf} style={{width:\"100%\",height:\"100%\"}}>\n  //                                            <i className=\"fa fa-print\"> <span> Print to PDF</span></i>\n  //                                         </a>}\n  //                                 </Pdf>\n  //                             </div>\n  //                         </div>\n  //                         <div className=\"kotakprintxcllaporan\">\n  //                             <div className=\"printformlaporan\">\n  //                                 <ExcelFile filename={\"Xirka-\"+nimp} element={\n  //                                     <a>\n  //                                         <i className=\"fa fa-print\"> <span> Print to Excel</span></i>\n  //                                     </a>}>\n  //                                     <ExcelSheet dataSet={dataXcl} name={\"Xirka\"+nimp}/>\n  //                                 </ExcelFile>\n  //                             </div>\n  //                         </div>\n  //                     </form> \n  //                 </div>        \n  //                 <div className=\"ruangandaftarruangan\"> \n  //                     <div className=\"box-footer\">\n  //                         <div className=\"kotakisigrafik\">\n  //                             <div className=\"kotakisigrafik2\">\n  //                                 <div ref={ref} className=\"ruangandaftarruangan2\">\n  //                                     <table className=\"tabellaporan\">\n  //                                         <tbody>\n  //                                             <tr>\n  //                                                 <td style={{width:'5%'}}>\n  //                                                     <b>NIM/NIP</b>\n  //                                                 </td>\n  //                                                 <td style={{width:'50%'}}>\n  //                                                     <b>&emsp;:&emsp;{nimp}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                             <tr>\n  //                                                 <td>\n  //                                                     <b>Nama</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>&emsp;:&emsp;{nama}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                             <tr>\n  //                                                 <td>\n  //                                                     <b>Instansi</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>&emsp;:&emsp;{inst}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                             <tr><td>&emsp;</td></tr>\n  //                                             <tr>\n  //                                                 <td>&emsp;</td>\n  //                                                 <td>&emsp;</td>\n  //                                                 <td style={{width:'14%'}}><b>Pencetak</b></td>\n  //                                                 <td style={{width:'5%',textAlign:\"center\"}}><b>:</b></td>\n  //                                                 <td><b>{sessionStorage.message}</b></td>\n  //                                             </tr>\n  //                                             <tr>\n  //                                                 <td>\n  //                                                     <b>Periode</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>&emsp;:&emsp;{Periodelaporan(startDate,endDate)}</b>\n  //                                                 </td>\n  //                                                 <td style={{width:'14%'}}>\n  //                                                     <b>Tanggal Cetak</b>\n  //                                                 </td>\n  //                                                 <td style={{width:'5%',textAlign:\"center\"}}>\n  //                                                     <b>:</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>{sekarang(new Date())}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                         </tbody>\n  //                                     </table>\n  //                                     <table className=\"tabellaporan\">\n  //                                         <thead>\n  //                                             <tr className=\"tabellaporantrhead\">\n  //                                                 <th className =\"laporanno\" > No </th>\n  //                                                 <th className =\"laporanhari\"> Hari, Tanggal </th>\n  //                                                 <th className =\"laporanmasuk\"> Jam Masuk </th>\n  //                                                 <th className =\"laporankeluar\"> Jam Keluar </th>\n  //                                                 <th className =\"laporantotal\"> Total Jam/Hari </th>\n  //                                                 <th className =\"laporanalfa\"> Alfa </th>\n  //                                                 <th className =\"laporanizin\"> Izin </th>\n  //                                                 <th className =\"laporansakit\"> Sakit </th>\n  //                                                 <th className =\"laporanketerangan\"> Keterangan </th>\n  //                                             </tr>\n  //                                         </thead>\n  //                                         <tbody>\n  //                                             { periodeLaporan && getRangeDate.map(isi =>(\n  //                                             <tr className=\"tabellaporanbody\" key={isi}>\n  //                                                 <td className =\"laporanno\">{i++}</td>\n  //                                                 <td className =\"laporanhari\">{waktu(isi)}</td>\n  //                                                 <td className =\"laporanmasuk\">{masuk(isi,isidata)}</td>\n  //                                                 <td className =\"laporankeluar\">{keluar(isi,isidata)}</td>\n  //                                                 <td className =\"laporantotal\">{total(isi,isidata)}</td>\n  //                                                 <td className =\"laporanalfa\"></td>\n  //                                                 <td className =\"laporanizin\">{izin(isi,isidata)}</td>\n  //                                                 <td className =\"laporansakit\">{sakit(isi,isidata)}</td>\n  //                                                 <td className =\"laporanketerangan\"></td>\n  //                                             </tr>\n  //                                         ))}\n  //                                         </tbody>\n  //                                     </table>\n  //                                 </div>\n  //                             </div>\n  //                         </div>\n  //                     </div>\n  //                 </div>\n  //             </div>\n  //         )\n  //     }\n  //     else{\n  //         return (\n  //             <div>\n  //                 <div className=\"kotakfilter\"> \n  //                     <form className=\"kotakforminputlogpintu\" onSubmit={this.handleSubmit}>\n  //                         <div className=\"kotakinputlaporannim\">\n  //                             <label> NIM/NIP </label> <br></br>\n  //                             <input name=\"nim\" onChange={this.handleChange} className=\"inputformlaporannim\" type=\"text\" placeholder=\"NIM/NIP\" required></input>\n  //                         </div>\n  //                         <div className=\"kotakinputlaporanstart\">\n  //                             <label> Start Date </label> <br></br>\n  //                             <input name=\"startDate\" onChange={this.handleChange} className=\"inputformlaporanstart\" type=\"date\" required></input>\n  //                         </div> \n  //                         <div className=\"kotakinputlaporanend\">\n  //                             <label> End Date </label> <br></br>\n  //                             <input name=\"endDate\" onChange={this.handleChange} className=\"inputformlaporanend\" type=\"date\" required></input>\n  //                         </div>\n  //                         <div className=\"kotaksubmitlaporan2\">\n  //                             <input className=\"submitformlogpintu2\" type=\"submit\" value=\"Find\"></input>\n  //                         </div>\n  //                         <div className=\"kotakprintpdflaporan\">\n  //                             <div className=\"printformlaporan\"> \n  //                                 <Pdf targetRef={ref} filename={\"Xirka-\"+nimp}>\n  //                                     {({ toPdf }) =>\n  //                                         <a onClick={toPdf} style={{width:\"100%\",height:\"100%\"}}>\n  //                                            <i className=\"fa fa-print\"> <span> Print to PDF</span></i>\n  //                                         </a>}\n  //                                 </Pdf>\n  //                             </div>\n  //                         </div>\n  //                         <div className=\"kotakprintxcllaporan\">\n  //                             <div className=\"printformlaporan\">\n  //                                 <ExcelFile filename={\"Xirka-\"+nimp} element={\n  //                                     <a>\n  //                                         <i className=\"fa fa-print\"> <span> Print to Excel</span></i>\n  //                                     </a>}>\n  //                                     <ExcelSheet dataSet={dataXcl} name={\"Xirka\"+nimp}/>\n  //                                 </ExcelFile>\n  //                             </div>\n  //                         </div>\n  //                     </form> \n  //                 </div>        \n  //                 <div className=\"ruangandaftarruangan\"> \n  //                     <div className=\"box-footer\">\n  //                         <div className=\"kotakisigrafik\">\n  //                             <div className=\"kotakisigrafik2\">\n  //                                 <div ref={ref} className=\"ruangandaftarruangan2\">\n  //                                     <table className=\"tabellaporan\">\n  //                                         <tbody>\n  //                                             <tr>\n  //                                                 <td style={{width:'5%'}}>\n  //                                                     <b>NIM/NIP</b>\n  //                                                 </td>\n  //                                                 <td style={{width:'50%'}}>\n  //                                                     <b>&emsp;:&emsp;{nimp}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                             <tr>\n  //                                                 <td>\n  //                                                     <b>Nama</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>&emsp;:&emsp;{nama}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                             <tr>\n  //                                                 <td>\n  //                                                     <b>Instansi</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>&emsp;:&emsp;{inst}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                             <tr><td>&emsp;</td></tr>\n  //                                             <tr>\n  //                                                 <td>&emsp;</td>\n  //                                                 <td>&emsp;</td>\n  //                                                 <td style={{width:'14%'}}><b>Pencetak</b></td>\n  //                                                 <td style={{width:'5%',textAlign:\"center\"}}><b>:</b></td>\n  //                                                 <td><b>{namaclient}</b></td>\n  //                                             </tr>\n  //                                             <tr>\n  //                                                 <td>\n  //                                                     <b>Periode</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>&emsp;:&emsp;{Periodelaporan(startDate,endDate)}</b>\n  //                                                 </td>\n  //                                                 <td style={{width:'14%'}}>\n  //                                                     <b>Tanggal Cetak</b>\n  //                                                 </td>\n  //                                                 <td style={{width:'5%',textAlign:\"center\"}}>\n  //                                                     <b>:</b>\n  //                                                 </td>\n  //                                                 <td>\n  //                                                     <b>{sekarang(new Date())}</b>\n  //                                                 </td>\n  //                                             </tr>\n  //                                         </tbody>\n  //                                     </table>\n  //                                     <table className=\"tabellaporan\">\n  //                                         <thead>\n  //                                             <tr className=\"tabellaporantrhead\">\n  //                                                 <th className =\"laporanno\" > No </th>\n  //                                                 <th className =\"laporanhari\"> Hari, Tanggal </th>\n  //                                                 <th className =\"laporanmasuk\"> Jam Masuk </th>\n  //                                                 <th className =\"laporankeluar\"> Jam Keluar </th>\n  //                                                 <th className =\"laporantotal\"> Total Jam/Hari </th>\n  //                                                 <th className =\"laporanalfa\"> Alfa </th>\n  //                                                 <th className =\"laporanizin\"> Izin </th>\n  //                                                 <th className =\"laporansakit\"> Sakit </th>\n  //                                                 <th className =\"laporanketerangan\"> Keterangan </th>\n  //                                             </tr>\n  //                                         </thead>\n  //                                         <tbody>\n  //                                             {getRangeDate.map(isi =>(\n  //                                             <tr className=\"tabellaporanbody\" key={isi}>\n  //                                                 <td className =\"laporanno\">{i++}</td>\n  //                                                 <td className =\"laporanhari\">{waktu(isi)}</td>\n  //                                                 <td className =\"laporanmasuk\">{masuk(isi,isidata)}</td>\n  //                                                 <td className =\"laporankeluar\">{keluar(isi,isidata)}</td>\n  //                                                 <td className =\"laporantotal\">{total(isi,isidata)}</td>\n  //                                                 <td className =\"laporanalfa\"></td>\n  //                                                 <td className =\"laporanizin\">{izin(isi,isidata)}</td>\n  //                                                 <td className =\"laporansakit\">{sakit(isi,isidata)}</td>\n  //                                                 <td className =\"laporanketerangan\"></td>\n  //                                             </tr>\n  //                                         ))}\n  //                                         </tbody>\n  //                                     </table>\n  //                                 </div>\n  //                             </div>\n  //                         </div>\n  //                     </div>\n  //                 </div>\n  //             </div>\n  //         )\n  //     }\n  // } \n\n\n}\n\nexport default withRouter(Laporan);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/ruanganuser.js"],"names":["React","Component","Pdf","ReactExport","withRouter","Laporan","render"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAGA,MAAMC,OAAN,SAAsBJ,SAAtB,CAA+B;AAC3BK,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ;AAKH,GAP0B,CAQ3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AA/tB2B;;AAkuB/B,eAAeF,UAAU,CAACC,OAAD,CAAzB","sourcesContent":["import React,{Component} from 'react';\nimport Pdf from \"react-to-pdf\"\nimport ReactExport from \"react-data-export\";\nimport {withRouter} from 'react-router-dom'\n\n\nclass Laporan extends Component{\n    render(){\n        return(\n            <div>\n                laporan\n            </div>\n        )\n    }\n    // constructor(props) {\n    //     super(props);\n    //     this.state = {\n    //       isidata: [],\n    //       ins: [],\n    //       getRangeDate: [],\n    //       periodeLaporan:false,\n    //       nim: '',\n    //       startDate: '',\n    //       endDate:'',\n    //       datasalah: false,\n    //     };\n    //     this.handleChange = this.handleChange.bind(this);\n    //     this.handleSubmit = this.handleSubmit.bind(this);\n    //     }\n\n    //     handleChange(e) {\n    //         const { name, value } = e.target;\n    //         this.setState({ [name]: value });\n    //     }\n        \n    //     handleSubmit(e){\n    //         e.preventDefault();\n        \n    //         const {nim,startDate,endDate} = this.state\n    //          var filter\n        \n    //         filter = nim\n    //         let h = new Headers();\n    //         h.append ('Authorization', 'Basic YWRtaW46YmFuZHVuZzEyMw==')\n    //         fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit='+this.props.limit+\"&scard_id=\"+filter, {\n    //         method: 'GET',\n    //         headers: h\n    //         })\n    //         .then(response=>response.json())\n    //         .then(data => {\n    //             if (data.code===200){\n    //                 this.setState({isidata: data.results})\n    //                 this.setState({periodeLaporan:true})\n    //                 this.setState({datasalah:false})\n    //             }    \n    //             else {\n    //                 this.setState({datasalah:true})\n    //             }\n    //         })     \n        \n    //         //mengambil instansi berdasarkan scard id\n    //         let he= new Headers()\n    //         let token = this.props.token\n    //         he.append ('x-access-token', token)\n    //         fetch('http://192.168.2.7:3000/card', {\n    //         method: 'GET',\n    //         headers: he\n    //         })\n    //         .then(response=>response.json())\n    //         .then(data => this.setState({ins: data}))\n\n    //         function getDateArray(start, end) {\n    //             var hasil = new Array();\n    //             var startdatee = new Date(start);\n    //             var enddatee = new Date(end);\n    //             while (startdatee <= enddatee) {\n    //                 hasil.push(new Date(startdatee));\n    //                 startdatee.setDate(startdatee.getDate() + 1);\n    //             }\n    //             return hasil;\n    //         }\n            \n    //         var dateArr = getDateArray(startDate, endDate);\n    //         this.setState({getRangeDate:dateArr})\n    //     }\n\n    // render(){\n    //     const {datasalah}= this.state\n    //     sessionStorage.removeItem(\"login\");\n    //     function waktu(t){\n    //         var tahun,bulan,tanggal,tgl,hari,date;\n    //         date = new Date (t)\n\n    //         tahun = String(date.getFullYear())\n\n    //         var months = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"];\n    //         bulan = months[(date.getMonth())]\n\n    //         tgl = date.getDate()\n    //         if (tgl <=9){\n    //             tanggal = \"0\"+String(tgl)\n    //         }\n    //         else {\n    //             tanggal = String(tgl)\n    //         }\n    //         var days = [\"Sun\",\"Mon\",\"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n    //         hari = days[(date.getDay())]\n            \n    //         return hari+\", \"+tanggal+\"-\"+bulan+\"-\"+tahun\n    //     }\n    //     const {isidata,getRangeDate} = this.state\n    //     var nimp, nama, inst;\n    //     function instansi(nim1,array){\n    //         var hasil\n    //         var i\n    //         for ( i=0; i<array.length; i++){\n    //           if (String(nim1)===array[i].card_id){\n    //             hasil = array[i].instansi\n    //             break\n    //           }\n    //           else {\n    //             hasil = ''\n    //           }\n    //         }\n    //         return hasil\n    //     }\n\n    //     for (var i=0; i<isidata.length; i++){\n    //         nimp = isidata[i].scard_id;\n    //         nama = isidata[i].name;\n    //         inst = instansi(isidata[i].scard_id,this.state.ins)\n    //     }\n\n    //     const {startDate,endDate, periodeLaporan} = this.state;\n\n    //     function Periodelaporan(start,end){\n    //         var hasil, awal, akhir, tahunakhir, bulanawal, bulanakhir, tanggalawal, tanggalakhir, tglawal, tglakhir;\n    //         awal = new Date(start);\n    //         akhir = new Date(end);\n\n    //         tahunakhir = String(akhir.getFullYear())\n\n    //         var months = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\n            \n    //         bulanawal = months[(awal.getMonth())]\n    //         bulanakhir = months[(akhir.getMonth())]\n\n    //         tglawal = awal.getDate()\n    //         tglakhir = akhir.getDate()\n\n    //         if (tglawal <=9){\n    //             tanggalawal = \"0\"+String(tglawal)\n    //         }\n    //         else {\n    //             tanggalawal = String(tglawal)\n    //         }\n\n    //         if (tglakhir <=9){\n    //             tanggalakhir = \"0\"+String(tglakhir)\n    //         }\n    //         else {\n    //             tanggalakhir = String(tglakhir)\n    //         }\n\n    //         hasil = tanggalawal+\" \"+bulanawal+\" - \"+tanggalakhir+\" \"+bulanakhir+\" \"+tahunakhir\n    //         if (periodeLaporan){\n    //             return (\n    //                 hasil\n    //             )\n    //         }\n    //     }\n\n    //     function sekarang(a){\n    //         var hasil, tgl, tanggal, bulan, tahun, j, jam, m, menit;\n    //         tgl = a.getDate();\n    //         if (tgl <=9){\n    //             tanggal = \"0\"+String(tgl)\n    //         }\n    //         else {\n    //             tanggal = String(tgl)\n    //         }\n    //         var months = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\n    //         bulan = months[(a.getMonth())]\n    //         tahun = a.getFullYear();\n    //         j = a.getHours()\n    //         if (j<=9){\n    //             jam = \"0\"+String(j)\n    //         }\n    //         else {\n    //             jam = String(j)\n    //         }\n    //         m = a.getMinutes()\n    //         if (m<=9){\n    //             menit = \"0\"+String(m)\n    //         }\n    //         else {\n    //             menit = String(m)\n    //         }\n    //         hasil =  bulan+\" \"+tanggal+\", \"+tahun+\" \"+jam+\":\"+menit+\":00\"\n    //         if (periodeLaporan){\n    //             return (\n    //                 hasil\n    //             )\n    //         }\n    //     }\n\n    //     i = 1;\n\n    //     function masuk(a,b){\n    //         var hasil, tgl, tanggal, tahun, bulan;\n    //         tgl = new Date(a)\n    //         tanggal = tgl.getDate()\n    //         bulan = tgl.getMonth()\n    //         tahun = tgl.getFullYear()\n    //         for (var i=0; i<b.length; i++){\n    //             if (b[i].lockstatus===0){\n    //                 var tanggalmasuk = new Date(b[i].checked_tm)\n    //                 var tanggalmasukk = tanggalmasuk.getDate()\n    //                 var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n    //                 var bulantanggalmasuk = tanggalmasuk.getMonth()\n    //                 var hasilmasuk,j, jam,m, menit;\n    //                 j = tanggalmasuk.getHours()\n    //                 if (j<=9){\n    //                     jam = \"0\"+String(j)\n    //                 }\n    //                 else {\n    //                     jam = String(j)\n    //                 }\n    //                 m = tanggalmasuk.getMinutes()\n    //                 if (m<=9){\n    //                     menit = \"0\"+String(m)\n    //                 }\n    //                 else {\n    //                     menit = String(m)\n    //                 }\n\n    //                 hasilmasuk = jam + \":\" +menit+\":00\";\n    //                 if ((tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n    //                     hasil = hasilmasuk\n    //                     break\n    //                 }\n    //                 else{\n    //                     hasil = \"-\"\n    //                 }\n    //             }\n    //             else {\n    //                 hasil = \"-\"\n    //             }\n    //         }\n    //         return hasil;\n    //     }\n\n    //     function keluar(a,b){\n    //         var hasil, tgl, tanggal, tahun, bulan;\n    //         tgl = new Date(a)\n    //         tanggal = tgl.getDate()\n    //         bulan = tgl.getMonth()\n    //         tahun = tgl.getFullYear()\n    //         for (var i=0; i<b.length; i++){\n    //             if ((b[i].lockstatus===1)||(b[i].lockstatus===2)||(b[i].lockstatus===3)){\n    //                 var tanggalmasuk = new Date(b[i].checked_tm)\n    //                 var tanggalmasukk = tanggalmasuk.getDate()\n    //                 var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n    //                 var bulantanggalmasuk = tanggalmasuk.getMonth()\n    //                 var hasilmasuk,j, jam,m, menit;\n    //                 j = tanggalmasuk.getHours()\n    //                 if (j<=9){\n    //                     jam = \"0\"+String(j)\n    //                 }\n    //                 else {\n    //                     jam = String(j)\n    //                 }\n    //                 m = tanggalmasuk.getMinutes()\n    //                 if (m<=9){\n    //                     menit = \"0\"+String(m)\n    //                 }\n    //                 else {\n    //                     menit = String(m)\n    //                 }\n\n    //                 hasilmasuk = jam + \":\" +menit+\":00\";\n    //                 if ((tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n    //                     hasil = hasilmasuk\n    //                     break\n    //                 }\n    //                 else{\n    //                     hasil = \"-\"\n    //                 }\n    //             }\n    //             else {\n    //                 hasil = \"-\"\n    //             } \n    //         }\n    //         return hasil;\n    //     }\n\n    //     function total(a,b){\n    //         var hasil, jammasuk,jamkeluar,menitmasuk,menitkeluar, j,m,jam, menit;\n\n    //         var masukk = String(masuk(a,b))\n    //         var keluarr = String(keluar(a,b))\n\n    //         menitmasuk = parseInt(masukk.substring(3,5))\n    //         menitkeluar = parseInt(keluarr.substring(3,5))\n    //         jamkeluar = parseInt(keluarr.substring(0,2))\n    //         jammasuk = parseInt(masukk.substring(0,2))\n\n    //         m = menitkeluar-menitmasuk;\n    //         j = jamkeluar-jammasuk;\n    //         if (m<0){\n    //             m = m + 60;\n    //             j = j - 1;\n    //         }\n\n    //         if (j<=9){\n    //             jam = \"0\"+String(j)\n    //         }\n    //         else {\n    //             jam = String(j)\n    //         }\n\n    //         if (m<=9){\n    //             menit = \"0\"+String(m)\n    //         }\n    //         else {\n    //             menit = String(m)\n    //         }\n    //         hasil = jam+\":\"+menit+\":00\";\n    //         if ((masukk===\"-\")||(keluarr===\"-\")){\n    //             return \"-\"\n    //         }\n    //         else {\n    //             return hasil\n    //         }\n    //     }\n\n    //     function izin(a,b){\n    //         var hasil, tgl, tanggal, tahun, bulan;\n    //         tgl = new Date(a)\n    //         tanggal = tgl.getDate()\n    //         bulan = tgl.getMonth()\n    //         tahun = tgl.getFullYear()\n    //         for (var i=0; i<b.length; i++){\n    //             var tanggalmasuk = new Date(b[i].checked_tm)\n    //             var tanggalmasukk = tanggalmasuk.getDate()\n    //             var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n    //             var bulantanggalmasuk = tanggalmasuk.getMonth()\n    //             if ((b[i].lockstatus===2)&&(tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n    //                 hasil = \"✔\"\n    //                 break\n    //             }\n    //             else{\n    //                 hasil = \" \"\n    //             }\n                    \n    //         }\n            \n    //         return hasil;\n    //     }\n\n    //     function sakit(a,b){\n    //         var hasil, tgl, tanggal, tahun, bulan;\n    //         tgl = new Date(a)\n    //         tanggal = tgl.getDate()\n    //         bulan = tgl.getMonth()\n    //         tahun = tgl.getFullYear()\n    //         for (var i=0; i<b.length; i++){\n    //             var tanggalmasuk = new Date(b[i].checked_tm)\n    //             var tanggalmasukk = tanggalmasuk.getDate()\n    //             var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n    //             var bulantanggalmasuk = tanggalmasuk.getMonth()\n    //             if ((b[i].lockstatus===3)&&(tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n    //                 hasil = \"✔\"\n    //                 break\n    //             }\n    //             else{\n    //                 hasil = \" \"\n    //             }\n                    \n    //         }\n            \n    //         return hasil;\n    //     }\n\n\n    //     const ref = React.createRef();\n    //     const ExcelFile = ReactExport.ExcelFile;\n    //     const ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n    //     var x=1;\n\n    //     function no(i){\n    //         var m=0\n    //         var hasil=m+i\n    //         return  hasil\n    //     }\n\n    //     function getDataXcl(a){\n    //         var data=new Array(a.length);\n    //         x = 1;\n    //         for (var i=0; i<a.length ;i++){\n    //             data[i] = new Array(9) \n                \n    //             data[i][0]=(no(x++))\n    //             data[i][1]=(waktu(a[i]))\n    //             data[i][2]=(masuk(a[i],isidata))\n    //             data[i][3]=(keluar(a[i],isidata))\n    //             data[i][4]=(total(a[i],isidata))\n    //             data[i][5]=\" \"\n    //             data[i][6]=(izin(a[i],isidata))\n    //             data[i][7]=(sakit(a[i],isidata))\n    //             data[i][8]=\" \"\n    //         }\n    //         return data\n    //     }\n\n    //     const dataXcl = [\n    //         {\n    //             columns: [\" \", \" \", \" \",\" \",\" \",\" \",\" \",\" \",\" \"],\n    //             data: [\n    //                 [\"NIM/NIP\", nimp],\n    //                 [\"Nama\", nama],\n    //                 [\"Instansi\", inst],\n    //                 [\" \"],\n    //                 [\" \"],\n    //                 [\" \",\" \",\" \",\"Pencetak\",sessionStorage.message ],\n    //                 [\"Periode\",Periodelaporan(startDate,endDate),\" \",\"Tanggal Cetak\",sekarang(new Date()) ],\n    //             ]\n    //         },\n\n    //         {\n    //             ySteps: 2,\n    //             columns: [\n    //                 {title: \"No\", width: {wpx: 30}},\n    //                 {title: \"Hari, Tanggal\", width: {wpx: 120}},\n    //                 {title: \"Jam Masuk\", width: {wpx: 100}},\n    //                 {title: \"Jam Keluar\", width: {wpx: 100}},\n    //                 {title: \"Total Jam/Hari\", width: {wpx: 100}},\n    //                 {title: \"Alfa\", width: {wpx: 50}},\n    //                 {title: \"Izin\", width: {wpx: 50}},\n    //                 {title: \"Sakit\", width: {wpx: 50}},\n    //                 {title: \"Keterangan\", width: {wpx: 100}},\n    //             ],\n    //             data: getDataXcl(getRangeDate)\n    //         }\n    //     ]\n\n    //     const namaclient = this.props.name\n    //     if (sessionStorage.message===\"admin\"){\n    //         return (\n    //             <div>\n    //                 <div className=\"kotakfilter\"> \n    //                     <form className=\"kotakforminputlogpintu\" onSubmit={this.handleSubmit}>\n    //                         <div className=\"kotakinputlaporannim\">\n    //                             <label> NIM/NIP </label> <br></br>\n    //                             <input name=\"nim\" onChange={this.handleChange} className=\"inputformlaporannim\" type=\"text\" placeholder=\"NIM/NIP\" required></input>\n    //                         </div>\n    \n    //                         <div className=\"kotakinputlaporanstart\">\n    //                             <label> Start Date </label> <br></br>\n    //                             <input name=\"startDate\" onChange={this.handleChange} className=\"inputformlaporanstart\" type=\"date\" required></input>\n    //                         </div> \n                            \n    //                         <div className=\"kotakinputlaporanend\">\n    //                             <label> End Date </label> <br></br>\n    //                             <input name=\"endDate\" onChange={this.handleChange} className=\"inputformlaporanend\" type=\"date\" required></input>\n    //                         </div>\n    //                         {\n    //                         datasalah &&\n    //                         <p className=\"textmerah\">*Data yang diinput salah</p>\n    //                         }\n    //                         { \n    //                         (datasalah===false) &&\n    //                         <p className=\"texthijau\">&emsp;</p>\n    //                         }\n    //                         <div className=\"kotaksubmitlaporan\">\n    //                             <input className=\"submitformlogpintu2\" type=\"submit\" value=\"Find\"></input>\n    //                         </div>\n    \n    //                         <div className=\"kotakprintpdflaporan\">\n    //                             <div className=\"printformlaporan\"> \n    //                                 <Pdf targetRef={ref} filename={\"Xirka-\"+nimp}>\n    //                                     {({ toPdf }) =>\n    //                                         <a onClick={toPdf} style={{width:\"100%\",height:\"100%\"}}>\n    //                                            <i className=\"fa fa-print\"> <span> Print to PDF</span></i>\n    //                                         </a>}\n    //                                 </Pdf>\n    //                             </div>\n    //                         </div>\n                               \n    //                         <div className=\"kotakprintxcllaporan\">\n    //                             <div className=\"printformlaporan\">\n    //                                 <ExcelFile filename={\"Xirka-\"+nimp} element={\n    //                                     <a>\n    //                                         <i className=\"fa fa-print\"> <span> Print to Excel</span></i>\n    //                                     </a>}>\n    //                                     <ExcelSheet dataSet={dataXcl} name={\"Xirka\"+nimp}/>\n    //                                 </ExcelFile>\n    //                             </div>\n    //                         </div>\n    //                     </form> \n    //                 </div>        \n    //                 <div className=\"ruangandaftarruangan\"> \n    //                     <div className=\"box-footer\">\n    //                         <div className=\"kotakisigrafik\">\n    //                             <div className=\"kotakisigrafik2\">\n    //                                 <div ref={ref} className=\"ruangandaftarruangan2\">\n    //                                     <table className=\"tabellaporan\">\n    //                                         <tbody>\n    //                                             <tr>\n    //                                                 <td style={{width:'5%'}}>\n    //                                                     <b>NIM/NIP</b>\n    //                                                 </td>\n    //                                                 <td style={{width:'50%'}}>\n    //                                                     <b>&emsp;:&emsp;{nimp}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                             <tr>\n    //                                                 <td>\n    //                                                     <b>Nama</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>&emsp;:&emsp;{nama}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                             <tr>\n    //                                                 <td>\n    //                                                     <b>Instansi</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>&emsp;:&emsp;{inst}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                             <tr><td>&emsp;</td></tr>\n    //                                             <tr>\n    //                                                 <td>&emsp;</td>\n    //                                                 <td>&emsp;</td>\n    //                                                 <td style={{width:'14%'}}><b>Pencetak</b></td>\n    //                                                 <td style={{width:'5%',textAlign:\"center\"}}><b>:</b></td>\n    //                                                 <td><b>{sessionStorage.message}</b></td>\n    //                                             </tr>\n    //                                             <tr>\n    //                                                 <td>\n    //                                                     <b>Periode</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>&emsp;:&emsp;{Periodelaporan(startDate,endDate)}</b>\n    //                                                 </td>\n    //                                                 <td style={{width:'14%'}}>\n    //                                                     <b>Tanggal Cetak</b>\n    //                                                 </td>\n    //                                                 <td style={{width:'5%',textAlign:\"center\"}}>\n    //                                                     <b>:</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>{sekarang(new Date())}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                         </tbody>\n    //                                     </table>\n    //                                     <table className=\"tabellaporan\">\n    //                                         <thead>\n    //                                             <tr className=\"tabellaporantrhead\">\n    //                                                 <th className =\"laporanno\" > No </th>\n    //                                                 <th className =\"laporanhari\"> Hari, Tanggal </th>\n    //                                                 <th className =\"laporanmasuk\"> Jam Masuk </th>\n    //                                                 <th className =\"laporankeluar\"> Jam Keluar </th>\n    //                                                 <th className =\"laporantotal\"> Total Jam/Hari </th>\n    //                                                 <th className =\"laporanalfa\"> Alfa </th>\n    //                                                 <th className =\"laporanizin\"> Izin </th>\n    //                                                 <th className =\"laporansakit\"> Sakit </th>\n    //                                                 <th className =\"laporanketerangan\"> Keterangan </th>\n    //                                             </tr>\n    //                                         </thead>\n    //                                         <tbody>\n    //                                             { periodeLaporan && getRangeDate.map(isi =>(\n    //                                             <tr className=\"tabellaporanbody\" key={isi}>\n    //                                                 <td className =\"laporanno\">{i++}</td>\n    //                                                 <td className =\"laporanhari\">{waktu(isi)}</td>\n    //                                                 <td className =\"laporanmasuk\">{masuk(isi,isidata)}</td>\n    //                                                 <td className =\"laporankeluar\">{keluar(isi,isidata)}</td>\n    //                                                 <td className =\"laporantotal\">{total(isi,isidata)}</td>\n    //                                                 <td className =\"laporanalfa\"></td>\n    //                                                 <td className =\"laporanizin\">{izin(isi,isidata)}</td>\n    //                                                 <td className =\"laporansakit\">{sakit(isi,isidata)}</td>\n    //                                                 <td className =\"laporanketerangan\"></td>\n    //                                             </tr>\n    //                                         ))}\n    //                                         </tbody>\n    //                                     </table>\n    //                                 </div>\n    //                             </div>\n    //                         </div>\n    //                     </div>\n    //                 </div>\n    //             </div>\n    //         )\n    //     }\n    //     else{\n    //         return (\n    //             <div>\n    //                 <div className=\"kotakfilter\"> \n    //                     <form className=\"kotakforminputlogpintu\" onSubmit={this.handleSubmit}>\n    //                         <div className=\"kotakinputlaporannim\">\n    //                             <label> NIM/NIP </label> <br></br>\n    //                             <input name=\"nim\" onChange={this.handleChange} className=\"inputformlaporannim\" type=\"text\" placeholder=\"NIM/NIP\" required></input>\n    //                         </div>\n    \n    //                         <div className=\"kotakinputlaporanstart\">\n    //                             <label> Start Date </label> <br></br>\n    //                             <input name=\"startDate\" onChange={this.handleChange} className=\"inputformlaporanstart\" type=\"date\" required></input>\n    //                         </div> \n                            \n    //                         <div className=\"kotakinputlaporanend\">\n    //                             <label> End Date </label> <br></br>\n    //                             <input name=\"endDate\" onChange={this.handleChange} className=\"inputformlaporanend\" type=\"date\" required></input>\n    //                         </div>\n                            \n    //                         <div className=\"kotaksubmitlaporan2\">\n    //                             <input className=\"submitformlogpintu2\" type=\"submit\" value=\"Find\"></input>\n    //                         </div>\n    \n    //                         <div className=\"kotakprintpdflaporan\">\n    //                             <div className=\"printformlaporan\"> \n    //                                 <Pdf targetRef={ref} filename={\"Xirka-\"+nimp}>\n    //                                     {({ toPdf }) =>\n    //                                         <a onClick={toPdf} style={{width:\"100%\",height:\"100%\"}}>\n    //                                            <i className=\"fa fa-print\"> <span> Print to PDF</span></i>\n    //                                         </a>}\n    //                                 </Pdf>\n    //                             </div>\n    //                         </div>\n                               \n    //                         <div className=\"kotakprintxcllaporan\">\n    //                             <div className=\"printformlaporan\">\n    //                                 <ExcelFile filename={\"Xirka-\"+nimp} element={\n    //                                     <a>\n    //                                         <i className=\"fa fa-print\"> <span> Print to Excel</span></i>\n    //                                     </a>}>\n    //                                     <ExcelSheet dataSet={dataXcl} name={\"Xirka\"+nimp}/>\n    //                                 </ExcelFile>\n    //                             </div>\n    //                         </div>\n    //                     </form> \n    //                 </div>        \n    //                 <div className=\"ruangandaftarruangan\"> \n    //                     <div className=\"box-footer\">\n    //                         <div className=\"kotakisigrafik\">\n    //                             <div className=\"kotakisigrafik2\">\n    //                                 <div ref={ref} className=\"ruangandaftarruangan2\">\n    //                                     <table className=\"tabellaporan\">\n    //                                         <tbody>\n    //                                             <tr>\n    //                                                 <td style={{width:'5%'}}>\n    //                                                     <b>NIM/NIP</b>\n    //                                                 </td>\n    //                                                 <td style={{width:'50%'}}>\n    //                                                     <b>&emsp;:&emsp;{nimp}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                             <tr>\n    //                                                 <td>\n    //                                                     <b>Nama</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>&emsp;:&emsp;{nama}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                             <tr>\n    //                                                 <td>\n    //                                                     <b>Instansi</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>&emsp;:&emsp;{inst}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                             <tr><td>&emsp;</td></tr>\n    //                                             <tr>\n    //                                                 <td>&emsp;</td>\n    //                                                 <td>&emsp;</td>\n    //                                                 <td style={{width:'14%'}}><b>Pencetak</b></td>\n    //                                                 <td style={{width:'5%',textAlign:\"center\"}}><b>:</b></td>\n    //                                                 <td><b>{namaclient}</b></td>\n    //                                             </tr>\n    //                                             <tr>\n    //                                                 <td>\n    //                                                     <b>Periode</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>&emsp;:&emsp;{Periodelaporan(startDate,endDate)}</b>\n    //                                                 </td>\n    //                                                 <td style={{width:'14%'}}>\n    //                                                     <b>Tanggal Cetak</b>\n    //                                                 </td>\n    //                                                 <td style={{width:'5%',textAlign:\"center\"}}>\n    //                                                     <b>:</b>\n    //                                                 </td>\n    //                                                 <td>\n    //                                                     <b>{sekarang(new Date())}</b>\n    //                                                 </td>\n    //                                             </tr>\n    //                                         </tbody>\n    //                                     </table>\n    //                                     <table className=\"tabellaporan\">\n    //                                         <thead>\n    //                                             <tr className=\"tabellaporantrhead\">\n    //                                                 <th className =\"laporanno\" > No </th>\n    //                                                 <th className =\"laporanhari\"> Hari, Tanggal </th>\n    //                                                 <th className =\"laporanmasuk\"> Jam Masuk </th>\n    //                                                 <th className =\"laporankeluar\"> Jam Keluar </th>\n    //                                                 <th className =\"laporantotal\"> Total Jam/Hari </th>\n    //                                                 <th className =\"laporanalfa\"> Alfa </th>\n    //                                                 <th className =\"laporanizin\"> Izin </th>\n    //                                                 <th className =\"laporansakit\"> Sakit </th>\n    //                                                 <th className =\"laporanketerangan\"> Keterangan </th>\n    //                                             </tr>\n    //                                         </thead>\n    //                                         <tbody>\n    //                                             {getRangeDate.map(isi =>(\n    //                                             <tr className=\"tabellaporanbody\" key={isi}>\n    //                                                 <td className =\"laporanno\">{i++}</td>\n    //                                                 <td className =\"laporanhari\">{waktu(isi)}</td>\n    //                                                 <td className =\"laporanmasuk\">{masuk(isi,isidata)}</td>\n    //                                                 <td className =\"laporankeluar\">{keluar(isi,isidata)}</td>\n    //                                                 <td className =\"laporantotal\">{total(isi,isidata)}</td>\n    //                                                 <td className =\"laporanalfa\"></td>\n    //                                                 <td className =\"laporanizin\">{izin(isi,isidata)}</td>\n    //                                                 <td className =\"laporansakit\">{sakit(isi,isidata)}</td>\n    //                                                 <td className =\"laporanketerangan\"></td>\n    //                                             </tr>\n    //                                         ))}\n    //                                         </tbody>\n    //                                     </table>\n    //                                 </div>\n    //                             </div>\n    //                         </div>\n    //                     </div>\n    //                 </div>\n    //             </div>\n    //         )\n    //     }\n        \n    // } \n}\n\nexport default withRouter(Laporan);"]},"metadata":{},"sourceType":"module"}