{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/statistik.js\";\nimport React, { Component } from 'react';\nimport Chart from 'react-google-charts';\nimport { Link, withRouter } from 'react-router-dom';\nimport get from './config';\nimport { array } from 'prop-types';\n\nclass Statistik extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sort: 'date',\n      ascdsc: 'asc',\n      pagesize: null,\n      pagee: 1,\n      startDate: '',\n      endDate: '',\n      searching: '',\n      isidata: [],\n      getRangeDate: [],\n      ruang: '',\n      status: '',\n      pesan: '',\n      datasalah: false,\n      databenar: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          sort = _this$state.sort,\n          ascdsc = _this$state.ascdsc,\n          pagesize = _this$state.pagesize,\n          pagee = _this$state.pagee,\n          startDate = _this$state.startDate,\n          endDate = _this$state.endDate,\n          searching = _this$state.searching;\n    var filterstart, filterend, startDatee, endDatee, starttahun, startbulan, sb, starttanggal, st, endtahun, endbulan, eb, endtanggal, et;\n    startDatee = new Date(startDate);\n    starttahun = startDatee.getFullYear();\n    sb = startDatee.getMonth() + 1;\n\n    if (sb <= 9) {\n      startbulan = \"0\" + String(sb);\n    } else {\n      startbulan = String(sb);\n    }\n\n    st = startDatee.getDate();\n\n    if (st <= 9) {\n      starttanggal = \"0\" + String(st);\n    } else {\n      starttanggal = String(st);\n    }\n\n    filterstart = starttahun + \"-\" + startbulan + \"-\" + starttanggal;\n    endDatee = new Date(endDate);\n    endtahun = endDatee.getFullYear();\n    eb = endDatee.getMonth() + 1;\n\n    if (eb <= 9) {\n      endbulan = \"0\" + String(eb);\n    } else {\n      endbulan = String(eb);\n    }\n\n    et = endDatee.getDate();\n\n    if (et <= 9) {\n      endtanggal = \"0\" + String(et);\n    } else {\n      endtanggal = String(et);\n    }\n\n    filterend = endtahun + \"-\" + endbulan + \"-\" + endtanggal;\n    fetch(get.listlog, {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        sort_by: sort,\n        ascordsc: ascdsc,\n        page_size: pagesize,\n        page: pagee,\n        date_start: filterstart,\n        date_end: filterend,\n        search: searching\n      })\n    }).then(response => response.json()).then(response => {\n      console.log(response.list);\n\n      if (response.detail === \"Signature has expired.\") {\n        sessionStorage.removeItem(\"name\");\n      } else if (response.list.length === 0) {\n        var a = \"user not exists\";\n        this.setState({\n          pesan: a\n        });\n        this.setState({\n          datasalah: true\n        });\n        this.setState({\n          databenar: false\n        });\n      } else {\n        this.setState({\n          isidata: response.list\n        });\n        this.setState({\n          datasalah: false\n        });\n        this.setState({\n          databenar: true\n        });\n      }\n    });\n\n    function getDateArray(start, end) {\n      var hasil = new Array();\n      var startdatee = new Date(start);\n      var enddatee = new Date(end);\n\n      while (startdatee <= enddatee) {\n        hasil.push(new Date(startdatee));\n        startdatee.setDate(startdatee.getDate() + 1);\n      }\n\n      return hasil;\n    }\n\n    var dateArr = getDateArray(startDate, endDate);\n    this.setState({\n      getRangeDate: dateArr\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          isidata = _this$state2.isidata,\n          datasalah = _this$state2.datasalah,\n          pesan = _this$state2.pesan,\n          ruang = _this$state2.ruang,\n          status = _this$state2.status,\n          getRangeDate = _this$state2.getRangeDate;\n    var jumlahcheckin = 0;\n    var jumlahcheckout = 0;\n    var checkin = [];\n    var checkout = [];\n    var pengguna = [];\n    var deteksipengguna = 0;\n    var ruangan = [];\n    var deteksiruangan = 0;\n    var grafikcheckin = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    var grafikcheckout = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    var arraybaru = [];\n\n    for (var i = 0; i < isidata.length; i++) {\n      if (isidata[i].status === 1) {\n        if (ruang === '' && status === '') {\n          arraybaru.push(isidata[i]);\n        } else if (ruang !== '') {\n          if (isidata[i].kode_ruangan === parseInt(ruang)) {\n            arraybaru.push(isidata[i]);\n          }\n        }\n      }\n    }\n\n    console.log(ruang);\n    console.log(arraybaru);\n\n    for (var i = 0; i < getRangeDate.length; i++) {\n      var date = new Date(getRangeDate[i]);\n      var tahun = date.getFullYear();\n      var bulan = date.getMonth();\n      var tanggal = date.getDate();\n\n      if (status === 0) {} else if (status === 1) {} else {\n        for (var j = 0; j < arraybaru.length; j++) {\n          var d = new Date(arraybaru[j].date);\n          var thn = d.getFullYear();\n          var bln = d.getMonth();\n          var tgl = d.getDate();\n\n          if (tahun === thn && bulan === bln && tanggal === tgl) {\n            checkin.push(arraybaru[j].date);\n            break;\n          }\n\n          checkin = [];\n        }\n\n        if (checkin.length === 1) {\n          jumlahcheckin++;\n        }\n      }\n    }\n\n    for (var i = 0; i < getRangeDate.length; i++) {\n      var date = new Date(getRangeDate[i]);\n      var tahun = date.getFullYear();\n      var bulan = date.getMonth();\n      var tanggal = date.getDate();\n\n      if (status === 0) {} else if (status === 1) {} else {\n        for (var j = 0; j < arraybaru.length; j++) {\n          var d = new Date(arraybaru[j].date);\n          var thn = d.getFullYear();\n          var bln = d.getMonth();\n          var tgl = d.getDate();\n\n          if (tahun === thn && bulan === bln && tanggal === tgl) {\n            checkout.push(arraybaru[j].date);\n          }\n        }\n\n        if (checkout.length > 1) {\n          jumlahcheckout++;\n        }\n\n        checkout = [];\n      }\n    }\n\n    for (var i = 0; i < arraybaru.length; i++) {\n      for (var j = 0; j <= pengguna.length; j++) {\n        if (arraybaru[i].nim === pengguna[j]) {\n          console.log(pengguna[j]);\n          deteksipengguna = deteksipengguna + 1;\n        }\n      }\n\n      for (j = 0; j <= ruangan.length; j++) {\n        if (arraybaru[i].kode_ruangan === ruangan[j]) {\n          deteksiruangan = deteksiruangan + 1;\n        }\n      }\n\n      if (deteksipengguna === 0) {\n        pengguna.push(arraybaru[i].nim);\n      }\n\n      if (deteksiruangan === 0) {\n        ruangan.push(arraybaru[i].kode_ruangan);\n      }\n\n      deteksipengguna = 0;\n      deteksiruangan = 0;\n    } // var date = new Date (isidata[i].date+\" \"+isidata[i].time)\n    // var jam = date.getHours()\n    // for (var k=0; k<24; k++){\n    //     if ((jam===k)&&(isidata[i].lockstatus===0)){\n    //         grafikcheckin[k] = grafikcheckin[k] + 1;\n    //     }\n    //     if ((jam===k)&&(isidata[i].lockstatus===1)){\n    //         grafikcheckout[k] = grafikcheckout[k] + 1;\n    //     }\n    // }\n\n\n    const datagrafik = [['Jumlah', ' Check In', 'Check Out'], ['0 AM', grafikcheckin[0], grafikcheckout[0]], ['1 AM', grafikcheckin[1], grafikcheckout[1]], ['2 AM', grafikcheckin[2], grafikcheckout[2]], ['3 AM', grafikcheckin[3], grafikcheckout[3]], ['4 AM', grafikcheckin[4], grafikcheckout[4]], ['5 AM', grafikcheckin[5], grafikcheckout[5]], ['6 AM', grafikcheckin[6], grafikcheckout[6]], ['7 AM', grafikcheckin[7], grafikcheckout[7]], ['8 AM', grafikcheckin[8], grafikcheckout[8]], ['9 AM', grafikcheckin[9], grafikcheckout[9]], ['10 AM', grafikcheckin[10], grafikcheckout[10]], ['11 AM', grafikcheckin[11], grafikcheckout[11]], ['12 PM', grafikcheckin[12], grafikcheckout[12]], ['1 PM', grafikcheckin[13], grafikcheckout[13]], ['2 PM', grafikcheckin[14], grafikcheckout[14]], ['3 PM', grafikcheckin[15], grafikcheckout[15]], ['4 PM', grafikcheckin[16], grafikcheckout[16]], ['5 PM', grafikcheckin[17], grafikcheckout[17]], ['6 PM', grafikcheckin[18], grafikcheckout[18]], ['7 PM', grafikcheckin[19], grafikcheckout[19]], ['8 PM', grafikcheckin[20], grafikcheckout[20]], ['9 PM', grafikcheckin[21], grafikcheckout[21]], ['10 PM', grafikcheckin[22], grafikcheckout[22]], ['11 PM', grafikcheckin[23], grafikcheckout[23]]];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakinput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"kotakforminput\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Ruang \"), React.createElement(\"input\", {\n      name: \"ruang\",\n      className: \"kotakpicker\",\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Start \"), React.createElement(\"input\", {\n      name: \"startDate\",\n      className: \"kotakdatepickerstart\",\n      type: \"date\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"End \"), React.createElement(\"input\", {\n      name: \"endDate\",\n      className: \"kotakdatepickerend\",\n      type: \"date\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Status \"), React.createElement(\"select\", {\n      name: \"status\",\n      className: \"kotakpicker\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"  \"), React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \" Check In \"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \" Check Out \")), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"kkotakinput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"Go \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakcheckin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, jumlahcheckin), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"CHECK IN\"), React.createElement(Link, {\n      to: \"/logpintu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakcheckout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, jumlahcheckout), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \"CHECK OUT\"), React.createElement(Link, {\n      to: \"/logpintu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakpengguna\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, pengguna.length), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"PENGGUNA\"), React.createElement(Link, {\n      to: \"/pengguna\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, ruangan.length), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"RUANGAN\"), React.createElement(Link, {\n      to: \"/ruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakgrafik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakisigrafik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, datasalah && React.createElement(\"span\", {\n      className: \"textmerah\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, \"*\", pesan), React.createElement(\"div\", {\n      className: \"kotakisigrafik2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      width: \"1053px\",\n      height: \"290px\",\n      chartType: \"ColumnChart\",\n      loader: React.createElement(\"div\", {\n        className: \"loadinggrafik\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-pulse\",\n        style: {\n          fontSize: \"550%\",\n          color: \"#E43A34\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, \" \")),\n      data: datagrafik,\n      options: {\n        legend: {\n          position: 'top-right'\n        },\n        title: 'Statistik Check In dan Check Out',\n        hAxis: {\n          title: 'Waktu'\n        },\n        vAxis: {\n          title: 'Jumlah'\n        }\n      },\n      legendToggle: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default withRouter(Statistik);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/statistik.js"],"names":["React","Component","Chart","Link","withRouter","get","array","Statistik","constructor","props","state","sort","ascdsc","pagesize","pagee","startDate","endDate","searching","isidata","getRangeDate","ruang","status","pesan","datasalah","databenar","handleChange","bind","handleSubmit","e","target","name","value","setState","preventDefault","filterstart","filterend","startDatee","endDatee","starttahun","startbulan","sb","starttanggal","st","endtahun","endbulan","eb","endtanggal","et","Date","getFullYear","getMonth","String","getDate","fetch","listlog","method","headers","sessionStorage","body","JSON","stringify","sort_by","ascordsc","page_size","page","date_start","date_end","search","then","response","json","console","log","list","detail","removeItem","length","a","getDateArray","start","end","hasil","Array","startdatee","enddatee","push","setDate","dateArr","render","jumlahcheckin","jumlahcheckout","checkin","checkout","pengguna","deteksipengguna","ruangan","deteksiruangan","grafikcheckin","grafikcheckout","arraybaru","i","kode_ruangan","parseInt","date","tahun","bulan","tanggal","j","d","thn","bln","tgl","nim","datagrafik","fontSize","color","legend","position","title","hAxis","vAxis"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport Chart from 'react-google-charts';\nimport {Link,withRouter} from 'react-router-dom';\nimport get from './config';\nimport { array } from 'prop-types';\n\nclass Statistik extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            sort:'date',\n            ascdsc:'asc',\n            pagesize: null,\n            pagee: 1,\n            startDate: '',\n            endDate: '',\n            searching: '',\n            isidata: [],\n            getRangeDate: [],\n            ruang: '',\n            status: '',\n            pesan:'',\n            datasalah: false,\n            databenar: false,\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    \n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n      \n    handleSubmit(e){\n        e.preventDefault();\n        const {sort,ascdsc,pagesize,pagee,startDate,endDate,searching} = this.state\n        var filterstart,filterend,startDatee,endDatee,starttahun,startbulan,sb,starttanggal,st,endtahun,endbulan,eb,endtanggal,et\n        startDatee=new Date(startDate)\n        starttahun=startDatee.getFullYear()\n        sb=startDatee.getMonth()+1\n        if (sb<=9){\n        startbulan=\"0\"+String(sb)\n        }\n        else {\n        startbulan=String(sb)\n        }\n        st=startDatee.getDate()\n        if (st<=9){\n        starttanggal=\"0\"+String(st)\n        }\n        else {\n        starttanggal=String(st)\n        }\n        filterstart=starttahun+\"-\"+startbulan+\"-\"+starttanggal;\n        \n        endDatee= new Date(endDate)\n        endtahun=endDatee.getFullYear()\n        eb=endDatee.getMonth()+1\n        if (eb<=9){\n        endbulan=\"0\"+String(eb)\n        }\n        else {\n        endbulan=String(eb)\n        }\n        et=endDatee.getDate()\n        if (et<=9){\n        endtanggal=\"0\"+String(et)\n        }\n        else {\n        endtanggal=String(et)\n        }\n        filterend=endtahun+\"-\"+endbulan+\"-\"+endtanggal;\n        \n        fetch(get.listlog, {\n            method: 'post',\n            headers :{\n                \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n                \"Content-Type\" : \"application/json\"\n            },\n            body: JSON.stringify({\n                sort_by: sort,\n                ascordsc: ascdsc,\n                page_size: pagesize,\n                page: pagee,\n                date_start: filterstart,\n                date_end: filterend,\n                search: searching\n            })\n        })\n        .then (response =>response.json())  \n        .then (response =>{ console.log(response.list)\n            if (response.detail===\"Signature has expired.\"){\n                sessionStorage.removeItem(\"name\")\n            }\n            else if(response.list.length===0){\n                var a=\"user not exists\"\n                this.setState({pesan:a})\n                this.setState({datasalah:true})\n                this.setState({databenar:false})\n            }\n            else{\n                this.setState({isidata:response.list})\n                this.setState({datasalah:false})\n                this.setState({databenar:true})\n            }\n        })\n        function getDateArray(start, end) {\n            var hasil = new Array();\n            var startdatee = new Date(start);\n            var enddatee = new Date(end);\n            while (startdatee <= enddatee) {\n                hasil.push(new Date(startdatee));\n                startdatee.setDate(startdatee.getDate() + 1);\n            }\n            return hasil;\n        }\n        \n        var dateArr = getDateArray(startDate, endDate);\n        this.setState({getRangeDate:dateArr})\n    }\n\n    render(){\n        const {isidata,datasalah,pesan,ruang,status,getRangeDate}=this.state\n        var jumlahcheckin = 0;\n        var jumlahcheckout = 0;\n        var checkin = [];\n        var checkout = [];\n        var pengguna = [];\n        var deteksipengguna = 0;\n        var ruangan = [];\n        var deteksiruangan = 0;\n        var grafikcheckin= [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        var grafikcheckout= [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        var arraybaru = [];\n        for (var i=0; i<isidata.length; i++){\n            if (isidata[i].status===1){\n                if ((ruang==='')&&(status==='')){\n                    arraybaru.push(isidata[i])\n                }\n                else if (ruang!==''){\n                    if (isidata[i].kode_ruangan===parseInt(ruang)){\n                        arraybaru.push(isidata[i])\n                    }\n                }\n            }\n        }\n        console.log(ruang)\n        console.log(arraybaru)\n        for (var i=0; i<getRangeDate.length; i++){\n            var date=new Date(getRangeDate[i])\n            var tahun=date.getFullYear()\n            var bulan=date.getMonth()\n            var tanggal=date.getDate()\n            if (status===0){\n                \n            }\n            else if (status===1){\n\n            }\n            else{\n                for (var j=0; j<arraybaru.length; j++){\n                    var d=new Date(arraybaru[j].date)\n                    var thn=d.getFullYear()\n                    var bln=d.getMonth()\n                    var tgl=d.getDate()\n                    if ((tahun===thn)&&(bulan===bln)&&(tanggal===tgl)){\n                        checkin.push(arraybaru[j].date)\n                        break\n                    }\n                    checkin=[]\n                }\n                if (checkin.length===1){\n                    jumlahcheckin++\n                }\n            }\n        }\n        for (var i=0; i<getRangeDate.length; i++){\n            var date=new Date(getRangeDate[i])\n            var tahun=date.getFullYear()\n            var bulan=date.getMonth()\n            var tanggal=date.getDate()\n            if (status===0){\n                \n            }\n            else if (status===1){\n                \n            }\n            else{\n                for (var j=0; j<arraybaru.length; j++){\n                    var d=new Date(arraybaru[j].date)\n                    var thn=d.getFullYear()\n                    var bln=d.getMonth()\n                    var tgl=d.getDate()\n                    if ((tahun===thn)&&(bulan===bln)&&(tanggal===tgl)){\n                        checkout.push(arraybaru[j].date)\n                    }\n                }\n                if (checkout.length>1){\n                    jumlahcheckout++\n                }\n                checkout=[]\n            }\n        }\n        \n        for (var i=0; i<arraybaru.length; i++){\n            for (var j=0; j<=pengguna.length; j++){\n                if (arraybaru[i].nim === pengguna[j]){\n\n                console.log(pengguna[j])\n                    deteksipengguna = deteksipengguna +1;\n                }\n            }\n            for (j=0; j<=ruangan.length; j++){\n                if (arraybaru[i].kode_ruangan === ruangan[j]){\n                    deteksiruangan = deteksiruangan +1;\n                }\n            }\n            if (deteksipengguna===0){\n                pengguna.push(arraybaru[i].nim)\n            }\n            if (deteksiruangan===0){\n                ruangan.push(arraybaru[i].kode_ruangan)\n            }\n            deteksipengguna = 0;\n            deteksiruangan = 0;\n        }\n            \n            // var date = new Date (isidata[i].date+\" \"+isidata[i].time)\n            // var jam = date.getHours()\n            // for (var k=0; k<24; k++){\n            //     if ((jam===k)&&(isidata[i].lockstatus===0)){\n            //         grafikcheckin[k] = grafikcheckin[k] + 1;\n            //     }\n\n            //     if ((jam===k)&&(isidata[i].lockstatus===1)){\n            //         grafikcheckout[k] = grafikcheckout[k] + 1;\n            //     }\n            // }\n\n        const datagrafik = [\n            ['Jumlah', ' Check In', 'Check Out'],\n            ['0 AM', grafikcheckin[0], grafikcheckout[0]],\n            ['1 AM', grafikcheckin[1], grafikcheckout[1]],\n            ['2 AM', grafikcheckin[2], grafikcheckout[2]],\n            ['3 AM', grafikcheckin[3], grafikcheckout[3]],\n            ['4 AM', grafikcheckin[4], grafikcheckout[4]],\n            ['5 AM', grafikcheckin[5], grafikcheckout[5]],\n            ['6 AM', grafikcheckin[6], grafikcheckout[6]],\n            ['7 AM', grafikcheckin[7], grafikcheckout[7]],\n            ['8 AM', grafikcheckin[8], grafikcheckout[8]],\n            ['9 AM', grafikcheckin[9], grafikcheckout[9]],\n            ['10 AM', grafikcheckin[10], grafikcheckout[10]],\n            ['11 AM', grafikcheckin[11], grafikcheckout[11]],\n            ['12 PM', grafikcheckin[12], grafikcheckout[12]],\n            ['1 PM', grafikcheckin[13], grafikcheckout[13]],\n            ['2 PM', grafikcheckin[14], grafikcheckout[14]],\n            ['3 PM', grafikcheckin[15], grafikcheckout[15]],\n            ['4 PM', grafikcheckin[16], grafikcheckout[16]],\n            ['5 PM', grafikcheckin[17], grafikcheckout[17]],\n            ['6 PM', grafikcheckin[18], grafikcheckout[18]],\n            ['7 PM', grafikcheckin[19], grafikcheckout[19]],\n            ['8 PM', grafikcheckin[20], grafikcheckout[20]],\n            ['9 PM', grafikcheckin[21], grafikcheckout[21]],\n            ['10 PM', grafikcheckin[22], grafikcheckout[22]],\n            ['11 PM', grafikcheckin[23], grafikcheckout[23]],\n            ]\n        return (\n            <div>\n                <div className=\"kotakinput\">\n                    <form className=\"kotakforminput\" onSubmit={this.handleSubmit}>\n                        \n                        <label>Ruang </label>\n                        <input name=\"ruang\" className=\"kotakpicker\" type=\"text\" onChange={this.handleChange}></input>\n                        <br></br>\n\n                        <label>Start </label>\n                        <input name=\"startDate\" className=\"kotakdatepickerstart\" type=\"date\" onChange={this.handleChange} required></input>\n                        <br></br>\n\n                        <label>End </label>\n                        <input name=\"endDate\" className=\"kotakdatepickerend\" type=\"date\" onChange={this.handleChange} required></input>\n                        <br></br>\n\n                        <label>Status </label>\n                        <select name=\"status\" className=\"kotakpicker\" onChange={this.handleChange}>\n                            <option value=\"\">  </option>\n                            <option value=\"0\"> Check In </option>\n                            <option value=\"1\"> Check Out </option>\n                        </select>\n\n                        <button type=\"submit\" className=\"kkotakinput\">\n                            <span>Go </span>\n                            <i className=\"fa fa-chevron-right\"></i>\n                        </button>\n                    </form>\n                </div>\n                <div className=\"kotakcheckin\">\n                    <span className=\"kotakangkastat\" >{jumlahcheckin}</span>\n                    <span className=\"kotakhalamanstat\">CHECK IN</span>\n                    <Link to=\"/logpintu\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </Link>\n                </div>\n                <div className=\"kotakcheckout\">\n                    <span className=\"kotakangkastat\" >{jumlahcheckout}</span>\n                    <span className=\"kotakhalamanstat\">CHECK OUT</span>\n                    <Link to=\"/logpintu\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </Link>\n                </div>\n                <div className=\"kotakpengguna\">\n                    <span className=\"kotakangkastat\" >{pengguna.length}</span>\n                    <span className=\"kotakhalamanstat\">PENGGUNA</span>\n                    <Link to=\"/pengguna\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </Link>\n                </div>\n                <div className=\"kotakruangan\">\n                    <span className=\"kotakangkastat\" >{ruangan.length}</span>\n                    <span className=\"kotakhalamanstat\">RUANGAN</span>\n                    <Link to=\"/ruangan\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </Link>\n                </div>\n                <div className=\"kotakgrafik\">\n                    <div className=\"kotakisigrafik\">\n                        {\n                        datasalah &&\n                            <span className=\"textmerah\">*{pesan}</span>\n                        \n                        }\n                        <div className=\"kotakisigrafik2\">\n                            <Chart \n                            width=\"1053px\"\n                            height=\"290px\"\n                            chartType=\"ColumnChart\"\n                            loader={\n                                    <div className=\"loadinggrafik\"> \n                                        <i className=\"fa fa-spinner fa-pulse\" style={{fontSize:\"550%\", color:\"#E43A34\"}}> </i>\n                                    </div>\n                                    }\n                            data={datagrafik}\n                            options={{\n                                legend: { position: 'top-right'},\n                                title: 'Statistik Check In dan Check Out',\n                                hAxis: {title: 'Waktu'},\n                                vAxis: {title: 'Jumlah'},\n                                }}\n                            legendToggle\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n        )\n    } \n}\n\nexport default withRouter(Statistik);"]},"metadata":{},"sourceType":"module"}