{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/pengguna.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport { Route, Link, withRouter, Switch } from \"react-router-dom\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nclass Pengguna extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      daftar: false,\n      edit: false,\n      nimc: '',\n      namac: '',\n      nimu: '',\n      namau: '',\n      datasalah: false,\n      databenar: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmitDaftar = this.handleSubmitDaftar.bind(this);\n    this.handleSubmitEdit = this.handleSubmitEdit.bind(this);\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmitDaftar(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          nimc = _this$state.nimc,\n          namac = _this$state.namac;\n    fetch('http://192.168.2.7:8020/doorlog/registerUser/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        nim: nimc,\n        nama: namac\n      })\n    }).then(response => {\n      if (response.ok) {\n        this.setState({\n          databenar: true\n        });\n        this.setState({\n          datasalah: false\n        });\n      } else {\n        this.setState({\n          datasalah: true\n        });\n        this.setState({\n          databenar: false\n        });\n      }\n    });\n  }\n\n  handleSubmitEdit(e) {\n    e.preventDefault();\n    const _this$state2 = this.state,\n          nimu = _this$state2.nimu,\n          namau = _this$state2.namau;\n    fetch('http://192.168.2.7:8020/doorlog/editUser/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        nim: nimu,\n        name_update: namau\n      })\n    }).then(response => {\n      if (response.ok) {\n        this.setState({\n          databenar: true\n        });\n        this.setState({\n          datasalah: false\n        });\n      } else {\n        this.setState({\n          datasalah: true\n        });\n        this.setState({\n          databenar: false\n        });\n      }\n    });\n  }\n\n  componentWillMount() {\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  componentDidUpdate() {\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  deleteData(e, f) {\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: NIM = \" + e + \", Nama= \" + f);\n\n    if (yes === true) {\n      fetch('http://192.168.2.7:8020/doorlog/deleteUser/', {\n        method: 'post',\n        headers: {\n          \"Authorization\": \"Bearer \" + sessionStorage.name,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          nim: e\n        })\n      }).then(response => {\n        if (response.ok) {\n          window.alert(\"Data berhasil dihapus\");\n        } else {\n          window.alert(\"Data tidak berhasil dihapus\");\n        }\n      });\n    }\n  }\n\n  showDaftar() {\n    this.setState({\n      daftar: true\n    });\n  }\n\n  hideDaftar() {\n    this.setState({\n      daftar: false\n    });\n  }\n\n  showEdit(a) {\n    this.setState({\n      edit: true\n    });\n    this.setState({\n      nimu: a\n    });\n  }\n\n  hideEdit() {\n    this.setState({\n      edit: false\n    });\n  }\n\n  render() {\n    const _this$state3 = this.state,\n          daftar = _this$state3.daftar,\n          edit = _this$state3.edit,\n          databenar = _this$state3.databenar,\n          datasalah = _this$state3.datasalah,\n          nimu = _this$state3.nimu;\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    const data = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'NIM',\n        field: 'nim',\n        sort: 'asc'\n      }, {\n        label: 'Nama Pengguna',\n        field: 'namapengguna',\n        sort: 'asc'\n      }, {\n        label: 'Keterangan',\n        field: 'keterangan'\n      }],\n      rows: this.state.isidata.map(isi => {\n        return {\n          no: no(x++),\n          nim: isi.nim,\n          namapengguna: isi.nama,\n          keterangan: React.createElement(\"div\", {\n            className: \"editdelete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }, \" \", React.createElement(\"a\", {\n            onClick: () => this.showEdit(isi.nim),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          })), \" | \", React.createElement(\"a\", {\n            className: \"mousepointer\",\n            onClick: () => this.deleteData(isi.nim, isi.nama),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fa fa-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          })), \" \")\n        };\n      })\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/pengguna/daftar\",\n      render: () => React.createElement(Daftarpengguna, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/pengguna/edit\",\n      render: () => React.createElement(Editpengguna, {\n        editID: editID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"box-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakdaftarruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/pengguna/daftar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"daftar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \" Pengguna \"))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.refresh(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"daftar2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-refresh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"No\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"NIM\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Nama\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Keterangan\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, isidata.map(isi => React.createElement(\"tr\", {\n      key: isi.nim,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, x++), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, isi.nim), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, isi.nama), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"editdelete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/pengguna/edit\",\n      onClick: () => this.editData(isi.nim),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \" | \"), React.createElement(\"a\", {\n      className: \"mousepointer\",\n      onClick: () => this.deleteData(isi.nim, isi.name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    })))))))))));\n  }\n\n}\n\nexport default withRouter(Pengguna);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/pengguna.js"],"names":["React","Component","MDBDataTable","Route","Link","withRouter","Switch","Pengguna","constructor","props","state","isidata","daftar","edit","nimc","namac","nimu","namau","datasalah","databenar","handleChange","bind","handleSubmitDaftar","handleSubmitEdit","e","target","name","value","setState","preventDefault","fetch","method","headers","sessionStorage","body","JSON","stringify","nim","nama","then","response","ok","name_update","componentWillMount","json","list","componentDidUpdate","deleteData","f","yes","window","confirm","alert","showDaftar","hideDaftar","showEdit","a","hideEdit","render","x","no","i","m","hasil","data","columns","label","field","sort","rows","map","isi","namapengguna","keterangan","editID","refresh","editData"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport {Route, Link,withRouter,Switch} from \"react-router-dom\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\n\nclass Pengguna extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      daftar: false,\n      edit:false,\n      nimc:'',\n      namac:'',\n      nimu:'',\n      namau:'',\n      datasalah: false,\n      databenar: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmitDaftar = this.handleSubmitDaftar.bind(this);\n    this.handleSubmitEdit = this.handleSubmitEdit.bind(this);\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmitDaftar(e){\n    e.preventDefault();\n    const {nimc,namac} = this.state\n    fetch('http://192.168.2.7:8020/doorlog/registerUser/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      },\n      body: JSON.stringify({\n        nim: nimc,\n        nama: namac\n      })\n    })\n    .then(response => {\n      if (response.ok){\n        this.setState({databenar:true})\n        this.setState({datasalah:false})\n      }\n      else {\n        this.setState({datasalah:true})\n        this.setState({databenar:false})\n      }\n    })\n  }\n\n  handleSubmitEdit(e){\n    e.preventDefault();\n    const {nimu,namau} = this.state\n    fetch('http://192.168.2.7:8020/doorlog/editUser/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      },\n      body: JSON.stringify({\n        nim: nimu,\n        name_update: namau\n      })\n    })\n    .then(response => {\n      if (response.ok){\n        this.setState({databenar:true})\n        this.setState({datasalah:false})\n      }\n      else {\n        this.setState({datasalah:true})\n        this.setState({databenar:false})\n      }\n    })\n  }\n\n  componentWillMount(){\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      }\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list}))\n  }\n\n  componentDidUpdate(){\n    fetch('http://192.168.2.7:8020/doorlog/allusers/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      }\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list})) \n  }\n\n  deleteData(e,f){\n    var yes = window.confirm(\"Apakah anda yakin ingin menghapus data berikut: NIM = \" +e+\", Nama= \"+f);\n    if (yes === true){\n      fetch('http://192.168.2.7:8020/doorlog/deleteUser/', {\n        method: 'post',\n        headers :{\n          \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n          \"Content-Type\" : \"application/json\"\n        },\n        body: JSON.stringify({\n          nim: e\n          })\n      })\n      .then(response=>{\n        if (response.ok){\n          window.alert(\"Data berhasil dihapus\")\n        }\n        else{\n          window.alert(\"Data tidak berhasil dihapus\")\n        }\n      })\n    }\n  }\n\n  showDaftar(){\n    this.setState({daftar:true})\n  }\n  hideDaftar(){\n    this.setState({daftar:false})\n  }\n\n  showEdit(a){\n    this.setState({edit:true})\n    this.setState({nimu:a})\n  }\n  hideEdit(){\n    this.setState({edit:false})\n  }\n\n  render(){\n    const {daftar,edit,databenar,datasalah,nimu} = this.state\n    var x = 1;\n    function no(i){\n      var m=0\n      var hasil=m+i\n      return  hasil\n    }\n    const data = {\n      columns: [\n        {\n          label: 'No',\n          field: 'no',\n          sort: 'asc',\n        },\n        {\n          label: 'NIM',\n          field: 'nim',\n          sort: 'asc',\n        },\n        {\n          label: 'Nama Pengguna',\n          field: 'namapengguna',\n          sort: 'asc',\n        },\n        {\n          label: 'Keterangan',\n          field: 'keterangan'\n        }\n      ],\n      rows: this.state.isidata.map(isi=>{\n        return {\n          no:no(x++),\n          nim: isi.nim,\n          namapengguna:isi.nama,\n          keterangan:<div className=\"editdelete\"> <a onClick={() => this.showEdit(isi.nim)}><i className=\"fa fa-pencil\"></i></a> | <a className=\"mousepointer\" onClick={() => this.deleteData(isi.nim,isi.nama)}> <i className=\"fa fa-trash\"></i></a> </div>\n        }\n      })\n    };\n    return(\n      <div>\n          <div>\n            <Switch>\n              <Route path=\"/pengguna/daftar\" render={ () => <Daftarpengguna/> } />\n              <Route path=\"/pengguna/edit\" render={ () => <Editpengguna editID={editID}/> } />\n            </Switch>\n          </div>\n          <div className=\"box-footer\">\n              <div className=\"kotakdaftarruangan\">\n                <Link to=\"/pengguna/daftar\">\n                  <div className=\"daftar\">\n                    <i className=\"fa fa-plus\"></i> \n                    <span> Pengguna </span>\n                  </div>\n                </Link>\n                <span>\n                  <a onClick={() => this.refresh()}>\n                    <div className=\"daftar2\">\n                      <i className=\"fa fa-refresh\"></i>\n                    </div>\n                  </a>\n                </span>\n              </div>\n              <div>\n                <table>\n                  <thead>\n                    <tr>\n                      <th>No</th>  \n                      <th>NIM</th>\n                      <th>Nama</th>\n                      <th>Keterangan</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {isidata.map(isi =>(\n                      <tr key={isi.nim}>\n                        <td>{x++}</td>\n                        <td>{isi.nim}</td>\n                        <td>{isi.nama}</td>\n                        <td>\n                          <div className=\"editdelete\"> \n                            <Link to=\"/pengguna/edit\" onClick={() => this.editData(isi.nim)}>\n                              <i className=\"fa fa-pencil\"></i>\n                            </Link>\n                            <span> | </span> \n                            <a className=\"mousepointer\" onClick={() => this.deleteData(isi.nim,isi.name)}> \n                              <i className=\"fa fa-trash\"></i>\n                            </a>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div> \n          </div>\n      </div>\n    )\n  }  \n}\n\nexport default withRouter(Pengguna);\n"]},"metadata":{},"sourceType":"module"}