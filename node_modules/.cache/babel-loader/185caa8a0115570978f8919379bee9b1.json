{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/logpintu.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport { withRouter, Route, Link, Switch } from 'react-router-dom';\nimport Daftarlogpintu from './daftarlogpintu';\nimport Editlogpintu from './editlogpintu';\n\nclass Logpintu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sort: 'nim',\n      ascdsc: 'asc',\n      pagesize: 10,\n      pagee: 1,\n      startDate: new Date('2019-07-13'),\n      endDate: new Date(),\n      searching: '',\n      isidata: [],\n      daftar: false,\n      edit: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  componentDidMount() {\n    const _this$state = this.state,\n          sort = _this$state.sort,\n          ascdsc = _this$state.ascdsc,\n          pagesize = _this$state.pagesize,\n          pagee = _this$state.pagee,\n          startDate = _this$state.startDate,\n          endDate = _this$state.endDate,\n          searching = _this$state.searching;\n    var filterstart, filterend, starttahun, startbulan, sb, starttanggal, st, endtahun, endbulan, eb, endtanggal, et;\n    starttahun = startDate.getFullYear();\n    sb = startDate.getMonth() + 1;\n\n    if (sb <= 9) {\n      startbulan = \"0\" + String(sb);\n    } else {\n      startbulan = String(sb);\n    }\n\n    st = startDate.getDate();\n\n    if (st <= 9) {\n      starttanggal = \"0\" + String(st);\n    } else {\n      starttanggal = String(st);\n    }\n\n    filterstart = starttahun + \"-\" + startbulan + \"-\" + starttanggal;\n    endtahun = endDate.getFullYear();\n    eb = endDate.getMonth() + 1;\n\n    if (eb <= 9) {\n      endbulan = \"0\" + String(eb);\n    } else {\n      endbulan = String(eb);\n    }\n\n    et = endDate.getDate();\n\n    if (et <= 9) {\n      endtanggal = \"0\" + String(et);\n    } else {\n      endtanggal = String(et);\n    }\n\n    filterend = endtahun + \"-\" + endbulan + \"-\" + endtanggal;\n    fetch('http://192.168.2.7:8020/doorlog/getlogapi/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        sort_by: sort,\n        ascordsc: ascdsc,\n        page_size: pagesize,\n        page: pagee,\n        date_start: filterstart,\n        date_end: filterend,\n        search: searching\n      })\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  componentDidUpdate() {\n    const _this$state2 = this.state,\n          sort = _this$state2.sort,\n          ascdsc = _this$state2.ascdsc,\n          pagesize = _this$state2.pagesize,\n          pagee = _this$state2.pagee,\n          startDate = _this$state2.startDate,\n          endDate = _this$state2.endDate,\n          searching = _this$state2.searching;\n    var filterstart, filterend, starttahun, startbulan, sb, starttanggal, st, endtahun, endbulan, eb, endtanggal, et;\n    starttahun = startDate.getFullYear();\n    sb = startDate.getMonth() + 1;\n\n    if (sb <= 9) {\n      startbulan = \"0\" + String(sb);\n    } else {\n      startbulan = String(sb);\n    }\n\n    st = startDate.getDate();\n\n    if (st <= 9) {\n      starttanggal = \"0\" + String(st);\n    } else {\n      starttanggal = String(st);\n    }\n\n    filterstart = starttahun + \"-\" + startbulan + \"-\" + starttanggal;\n    endtahun = endDate.getFullYear();\n    eb = endDate.getMonth() + 1;\n\n    if (eb <= 9) {\n      endbulan = \"0\" + String(eb);\n    } else {\n      endbulan = String(eb);\n    }\n\n    et = endDate.getDate();\n\n    if (et <= 9) {\n      endtanggal = \"0\" + String(et);\n    } else {\n      endtanggal = String(et);\n    }\n\n    filterend = endtahun + \"-\" + endbulan + \"-\" + endtanggal;\n    fetch('http://192.168.2.7:8020/doorlog/getlogapi/', {\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \" + sessionStorage.name,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        sort_by: sort,\n        ascordsc: ascdsc,\n        page_size: pagesize,\n        page: pagee,\n        date_start: filterstart,\n        date_end: filterend,\n        search: searching\n      })\n    }).then(response => response.json()).then(response => this.setState({\n      isidata: response.list\n    }));\n  }\n\n  render() {\n    const _this$state3 = this.state,\n          isidata = _this$state3.isidata,\n          daftar = _this$state3.daftar,\n          edit = _this$state3.edit;\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    const data = {\n      columns: [{\n        label: 'No',\n        field: 'no',\n        sort: 'asc'\n      }, {\n        label: 'NIM',\n        field: 'nim',\n        sort: 'asc'\n      }, {\n        label: 'Nama',\n        field: 'nama',\n        sort: 'asc'\n      }, {\n        label: 'ID Ruangan',\n        field: 'idruangan',\n        sort: 'asc'\n      }, {\n        label: 'Nama Ruangan',\n        field: 'namaruangan',\n        sort: 'asc'\n      }, {\n        label: 'Tanggal',\n        field: 'tanggal',\n        sort: 'asc'\n      }, {\n        label: 'Waktu',\n        field: 'waktu',\n        sort: 'asc'\n      }, {\n        label: 'Status',\n        field: 'status',\n        sort: 'asc'\n      }, {\n        label: 'Method',\n        field: 'method',\n        sort: 'asc'\n      }],\n      rows: this.state.isidata.map(isi => {\n        return {\n          no: no(x++),\n          nim: isi.nim,\n          nama: isi.nim,\n          koderuangan: isi.nim,\n          namaruangan: isi.nim,\n          tanggal: isi.nim,\n          waktu: isi.nim,\n          status: isi.nim,\n          method: isi.nim\n        };\n      })\n    };\n    var aksidata;\n\n    if (daftar === true) {\n      aksidata = \"show\";\n    } else if (edit === true) {\n      aksidata = \"show\";\n    } else {\n      aksidata = \"hide\";\n    }\n\n    const _this$state4 = this.state,\n          sort = _this$state4.sort,\n          ascdsc = _this$state4.ascdsc,\n          pagesize = _this$state4.pagesize,\n          pagee = _this$state4.pagee,\n          startDate = _this$state4.startDate,\n          endDate = _this$state4.endDate,\n          searching = _this$state4.searching;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: aksidata,\n      className: \"kotakdata\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \" \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Sort\"), \" \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      name: \"methodc\",\n      onChange: this.handleChange,\n      className: \"inputformlogpintustatus\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \" Ascending \"), React.createElement(\"option\", {\n      value: \"dsc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \" Descendin \"))), React.createElement(\"div\", {\n      className: \"kotakinputpenggunanim\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \" NIM \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"nimc\",\n      onChange: this.handleChange,\n      className: \"inputformpenggunanim\",\n      type: \"text\",\n      placeholder: \"ID Ruangan\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotakinputpenggunanim\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \" NIM \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"nimc\",\n      onChange: this.handleChange,\n      className: \"inputformpenggunanim\",\n      type: \"text\",\n      placeholder: \"ID Ruangan\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotakinputpenggunanim\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \" NIM \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"nimc\",\n      onChange: this.handleChange,\n      className: \"inputformpenggunanim\",\n      type: \"text\",\n      placeholder: \"ID Ruangan\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotakinputpenggunanim\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \" NIM \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"nimc\",\n      onChange: this.handleChange,\n      className: \"inputformpenggunanim\",\n      type: \"text\",\n      placeholder: \"ID Ruangan\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"isitabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(MDBDataTable, {\n      responsive: true,\n      displayEntries: false,\n      info: false,\n      paging: false,\n      info: false,\n      striped: true,\n      bordered: true,\n      small: true,\n      hover: true,\n      theadColor: \"\",\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withRouter(Logpintu);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-ServerBaru/src/components/content/logpintu.js"],"names":["React","Component","MDBDataTable","withRouter","Route","Link","Switch","Daftarlogpintu","Editlogpintu","Logpintu","constructor","props","state","sort","ascdsc","pagesize","pagee","startDate","Date","endDate","searching","isidata","daftar","edit","handleChange","bind","e","target","name","value","setState","componentDidMount","filterstart","filterend","starttahun","startbulan","sb","starttanggal","st","endtahun","endbulan","eb","endtanggal","et","getFullYear","getMonth","String","getDate","fetch","method","headers","sessionStorage","body","JSON","stringify","sort_by","ascordsc","page_size","page","date_start","date_end","search","then","response","json","list","componentDidUpdate","render","x","no","i","m","hasil","data","columns","label","field","rows","map","isi","nim","nama","koderuangan","namaruangan","tanggal","waktu","status","aksidata"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport {withRouter,Route,Link,Switch} from 'react-router-dom';\nimport Daftarlogpintu from './daftarlogpintu';\nimport Editlogpintu from './editlogpintu';\n\n\n\nclass Logpintu extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      sort:'nim',\n      ascdsc:'asc',\n      pagesize: 10,\n      pagee: 1,\n      startDate: new Date('2019-07-13'),\n      endDate: new Date(),\n      searching:'',\n      isidata: [],\n      daftar:false,\n      edit:false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  }\n  componentDidMount(){\n    const {sort,ascdsc,pagesize,pagee,startDate,endDate,searching}=this.state\n    var filterstart,filterend,starttahun,startbulan,sb,starttanggal,st,endtahun,endbulan,eb,endtanggal,et\n    starttahun=startDate.getFullYear()\n    sb=startDate.getMonth()+1\n    if (sb<=9){\n      startbulan=\"0\"+String(sb)\n    }\n    else {\n      startbulan=String(sb)\n    }\n    st=startDate.getDate()\n    if (st<=9){\n      starttanggal=\"0\"+String(st)\n    }\n    else {\n      starttanggal=String(st)\n    }\n    filterstart=starttahun+\"-\"+startbulan+\"-\"+starttanggal;\n    \n    endtahun=endDate.getFullYear()\n    eb=endDate.getMonth()+1\n    if (eb<=9){\n      endbulan=\"0\"+String(eb)\n    }\n    else {\n      endbulan=String(eb)\n    }\n    et=endDate.getDate()\n    if (et<=9){\n      endtanggal=\"0\"+String(et)\n    }\n    else {\n      endtanggal=String(et)\n    }\n    filterend=endtahun+\"-\"+endbulan+\"-\"+endtanggal;\n    \n    fetch('http://192.168.2.7:8020/doorlog/getlogapi/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      },\n      body: JSON.stringify({\n        sort_by: sort,\n        ascordsc: ascdsc,\n        page_size: pagesize,\n        page: pagee,\n        date_start: filterstart,\n        date_end: filterend,\n        search: searching\n      })\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list}))\n  }\n\n  componentDidUpdate(){\n    const {sort,ascdsc,pagesize,pagee,startDate,endDate,searching}=this.state\n    var filterstart,filterend,starttahun,startbulan,sb,starttanggal,st,endtahun,endbulan,eb,endtanggal,et\n    starttahun=startDate.getFullYear()\n    sb=startDate.getMonth()+1\n    if (sb<=9){\n      startbulan=\"0\"+String(sb)\n    }\n    else {\n      startbulan=String(sb)\n    }\n    st=startDate.getDate()\n    if (st<=9){\n      starttanggal=\"0\"+String(st)\n    }\n    else {\n      starttanggal=String(st)\n    }\n    filterstart=starttahun+\"-\"+startbulan+\"-\"+starttanggal;\n    \n    endtahun=endDate.getFullYear()\n    eb=endDate.getMonth()+1\n    if (eb<=9){\n      endbulan=\"0\"+String(eb)\n    }\n    else {\n      endbulan=String(eb)\n    }\n    et=endDate.getDate()\n    if (et<=9){\n      endtanggal=\"0\"+String(et)\n    }\n    else {\n      endtanggal=String(et)\n    }\n    filterend=endtahun+\"-\"+endbulan+\"-\"+endtanggal;\n    \n    fetch('http://192.168.2.7:8020/doorlog/getlogapi/', {\n      method: 'post',\n      headers :{\n        \"Authorization\" : \"Bearer \"+ sessionStorage.name,\n        \"Content-Type\" : \"application/json\"\n      },\n      body: JSON.stringify({\n        sort_by: sort,\n        ascordsc: ascdsc,\n        page_size: pagesize,\n        page: pagee,\n        date_start: filterstart,\n        date_end: filterend,\n        search: searching\n      })\n    })\n    .then (response =>response.json())  \n    .then (response =>this.setState({isidata:response.list}))\n  }\n\n  render(){\n    const {isidata,daftar,edit} = this.state\n    var x = 1;\n    function no(i){\n      var m=0\n      var hasil=m+i\n      return  hasil\n    }\n    const data = {\n      columns: [\n        {\n          label: 'No',\n          field: 'no',\n          sort: 'asc',\n        },\n        {\n          label: 'NIM',\n          field: 'nim',\n          sort: 'asc',\n        },\n        {\n          label: 'Nama',\n          field: 'nama',\n          sort: 'asc',\n        },\n        {\n          label: 'ID Ruangan',\n          field: 'idruangan',\n          sort: 'asc',\n        },\n        {\n          label: 'Nama Ruangan',\n          field: 'namaruangan',\n          sort: 'asc',\n        },\n        {\n          label: 'Tanggal',\n          field: 'tanggal',\n          sort: 'asc',\n        },\n        {\n          label: 'Waktu',\n          field: 'waktu',\n          sort: 'asc',\n        },\n        {\n          label: 'Status',\n          field: 'status',\n          sort: 'asc',\n        },\n        {\n          label: 'Method',\n          field: 'method',\n          sort: 'asc',\n        }\n      ],\n      rows: this.state.isidata.map(isi=>{\n        return {\n          no:no(x++),\n          nim: isi.nim,\n          nama: isi.nim,\n          koderuangan: isi.nim,\n          namaruangan: isi.nim,\n          tanggal: isi.nim,\n          waktu: isi.nim,\n          status: isi.nim,\n          method: isi.nim,\n        }\n      })\n    };\n    var aksidata\n    if (daftar===true){\n      aksidata = \"show\"\n    }\n    else if (edit===true){\n      aksidata = \"show\"\n    }\n    else {\n      aksidata = \"hide\"\n    }\n    const {sort,ascdsc,pagesize,pagee,startDate,endDate,searching}=this.state\n    return(\n      <div>\n        <div id={aksidata} className=\"kotakdata\">\n          <div>\n            <div>\n              <label> <b>Sort</b> </label> <br></br>\n              <select name=\"methodc\" onChange={this.handleChange} className=\"inputformlogpintustatus\" required>\n                <option value=\"asc\"> Ascending </option>\n                <option value=\"dsc\"> Descendin </option>\n              </select>\n            </div>\n            <div className=\"kotakinputpenggunanim\">\n              <label> NIM </label> <br></br>\n              <input name=\"nimc\" onChange={this.handleChange} className=\"inputformpenggunanim\" type=\"text\" placeholder=\"ID Ruangan\" required></input>\n            </div>\n            <div className=\"kotakinputpenggunanim\">\n              <label> NIM </label> <br></br>\n              <input name=\"nimc\" onChange={this.handleChange} className=\"inputformpenggunanim\" type=\"text\" placeholder=\"ID Ruangan\" required></input>\n            </div>\n            <div className=\"kotakinputpenggunanim\">\n              <label> NIM </label> <br></br>\n              <input name=\"nimc\" onChange={this.handleChange} className=\"inputformpenggunanim\" type=\"text\" placeholder=\"ID Ruangan\" required></input>\n            </div>\n            <div className=\"kotakinputpenggunanim\">\n              <label> NIM </label> <br></br>\n              <input name=\"nimc\" onChange={this.handleChange} className=\"inputformpenggunanim\" type=\"text\" placeholder=\"ID Ruangan\" required></input>\n            </div>\n          </div>\n          <div className=\"isitabel\">\n            <MDBDataTable\n            responsive\n            displayEntries={false}              info={false}\n            paging={false}\n            info={false}\n            striped\n            bordered\n            small\n            hover\n            theadColor={\"\"}\n            data={data}\n            />\n          </div> \n      </div>\n    </div>\n    )\n  } \n}\n\nexport default withRouter(Logpintu);"]},"metadata":{},"sourceType":"module"}