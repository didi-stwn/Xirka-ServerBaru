{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/statistik.js\";\nimport React, { Component } from 'react';\nimport Chart from 'react-google-charts';\nimport { withRouter } from 'react-router-dom';\n\nclass Statistik extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      ruang: '',\n      startDate: '',\n      endDate: '',\n      status: '',\n      ruanganoption: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    let username = 'admin';\n    let password = 'bandung123';\n    let h = new Headers();\n    h.append('Authorization', 'Basic ' + btoa(username + ':' + password));\n    fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit=' + this.props.limit, {\n      method: 'GET',\n      headers: h\n    }).then(response => response.json()).then(data => this.setState({\n      ruanganoption: data.results\n    }));\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          ruang = _this$state.ruang,\n          startDate = _this$state.startDate,\n          endDate = _this$state.endDate,\n          status = _this$state.status;\n    var inputruang;\n    var starttime;\n    var endtime;\n    var inputstatus;\n    var filter;\n\n    if (ruang === '' || ruang === 'semua') {\n      inputruang = '';\n    } else {\n      inputruang = '&term_id=' + ruang;\n    }\n\n    if (status === '' || status === 'semua') {\n      inputstatus = '';\n    } else {\n      inputstatus = '&lockstatus=' + status;\n    }\n\n    if (startDate === '') {\n      starttime = '';\n    } else {\n      starttime = '&startdatetime=' + startDate.substring(0, 4) + startDate.substring(5, 7) + startDate.substring(8, 10) + 'T000000+07:00';\n    }\n\n    if (endDate === '') {\n      endtime = '';\n    } else {\n      endtime = '&enddatetime=' + endDate.substring(0, 4) + endDate.substring(5, 7) + endDate.substring(8, 10) + 'T000000+07:00';\n    }\n\n    if (endDate === '' || startDate === '') {\n      if (startDate === '' && endDate !== '') {\n        starttime = '';\n        endtime = '&year=' + endDate.substring(0, 4) + '&month=' + endDate.substring(5, 7) + '&day=' + endDate.substring(8, 10);\n      } else if (endDate === '' && startDate !== '') {\n        starttime = '&year=' + startDate.substring(0, 4) + '&month=' + startDate.substring(5, 7) + '&day=' + startDate.substring(8, 10);\n        endtime = '';\n      } else {\n        starttime = '';\n        endtime = '';\n      }\n    }\n\n    if (endDate !== '' && startDate !== '' && '&year=' + startDate.substring(0, 4) + '&month=' + startDate.substring(5, 7) + '&day=' + startDate.substring(8, 10) === '&year=' + endDate.substring(0, 4) + '&month=' + endDate.substring(5, 7) + '&day=' + endDate.substring(8, 10)) {\n      starttime = '&year=' + startDate.substring(0, 4) + '&month=' + startDate.substring(5, 7) + '&day=' + startDate.substring(8, 10);\n      endtime = '';\n    }\n\n    filter = inputruang + starttime + endtime + inputstatus;\n    let username = 'admin';\n    let password = 'bandung123';\n    let h = new Headers();\n    h.append('Authorization', 'Basic ' + btoa(username + ':' + password));\n    fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit=' + this.props.limit + filter, {\n      method: 'GET',\n      headers: h\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data.results\n    }));\n  }\n\n  render() {\n    const isidata = this.state.isidata;\n    var checkin = 0;\n    var checkout = 0;\n    var pengguna = [];\n    var deteksipengguna = 0;\n    var ruangan = [];\n    var deteksiruangan = 0;\n    var grafikcheckin = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    var grafikcheckout = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n    for (var i = 0; i < isidata.length; i++) {\n      if (isidata[i].lockstatus === 0) {\n        checkin = checkin + 1;\n      } else {\n        checkout = checkout + 1;\n      }\n\n      for (var j = 0; j <= pengguna.length; j++) {\n        if (isidata[i].scard_id === pengguna[j]) {\n          deteksipengguna = deteksipengguna + 1;\n        } else {\n          deteksipengguna = deteksipengguna;\n        }\n      }\n\n      for (var j = 0; j <= ruangan.length; j++) {\n        if (isidata[i].term_id === ruangan[j]) {\n          deteksiruangan = deteksiruangan + 1;\n        } else {\n          deteksiruangan = deteksiruangan;\n        }\n      }\n\n      if (deteksipengguna === 0) {\n        pengguna.push(isidata[i].scard_id);\n      }\n\n      if (deteksiruangan === 0) {\n        ruangan.push(isidata[i].term_id);\n      }\n\n      deteksipengguna = 0;\n      deteksiruangan = 0;\n      var date = new Date(isidata[i].checked_tm);\n      var jam = date.getHours();\n\n      for (var k = 0; k < 24; k++) {\n        if (jam === k && isidata[i].lockstatus === 0) {\n          grafikcheckin[k] = grafikcheckin[k] + 1;\n        }\n\n        if (jam === k && isidata[i].lockstatus === 1) {\n          grafikcheckout[k] = grafikcheckout[k] + 1;\n        }\n      }\n    }\n\n    const ruanganoption = this.state.ruanganoption;\n    var ruangoption = [];\n    var deteksiruangoption = 0;\n\n    for (var i = 0; i < ruanganoption.length; i++) {\n      for (var j = 0; j <= ruangoption.length; j++) {\n        if (ruanganoption[i].term_id === ruangoption[j]) {\n          deteksiruangoption = deteksiruangoption + 1;\n        } else {\n          deteksiruangoption = deteksiruangoption;\n        }\n      }\n\n      if (deteksiruangoption === 0) {\n        ruangoption.push(ruanganoption[i].term_id);\n      }\n\n      deteksiruangoption = 0;\n    }\n\n    const datagrafik = [['Jumlah', ' Check In', 'Check Out'], ['0 AM', grafikcheckin[0], grafikcheckout[0]], ['1 AM', grafikcheckin[1], grafikcheckout[1]], ['2 AM', grafikcheckin[2], grafikcheckout[2]], ['3 AM', grafikcheckin[3], grafikcheckout[3]], ['4 AM', grafikcheckin[4], grafikcheckout[4]], ['5 AM', grafikcheckin[5], grafikcheckout[5]], ['6 AM', grafikcheckin[6], grafikcheckout[6]], ['7 AM', grafikcheckin[7], grafikcheckout[7]], ['8 AM', grafikcheckin[8], grafikcheckout[8]], ['9 AM', grafikcheckin[9], grafikcheckout[9]], ['10 AM', grafikcheckin[10], grafikcheckout[10]], ['11 AM', grafikcheckin[11], grafikcheckout[11]], ['12 PM', grafikcheckin[12], grafikcheckout[12]], ['1 PM', grafikcheckin[13], grafikcheckout[13]], ['2 PM', grafikcheckin[14], grafikcheckout[14]], ['3 PM', grafikcheckin[15], grafikcheckout[15]], ['4 PM', grafikcheckin[16], grafikcheckout[16]], ['5 PM', grafikcheckin[17], grafikcheckout[17]], ['6 PM', grafikcheckin[18], grafikcheckout[18]], ['7 PM', grafikcheckin[19], grafikcheckout[19]], ['8 PM', grafikcheckin[20], grafikcheckout[20]], ['9 PM', grafikcheckin[21], grafikcheckout[21]], ['10 PM', grafikcheckin[22], grafikcheckout[22]], ['11 PM', grafikcheckin[23], grafikcheckout[23]]];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakinput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"kotakforminput\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Ruang \"), React.createElement(\"select\", {\n      name: \"ruang\",\n      className: \"kotakpicker\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"semua\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \" Semua \"), ruangoption.map(isi => React.createElement(\"option\", {\n      key: isi,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, isi))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Start \"), React.createElement(\"input\", {\n      name: \"startDate\",\n      className: \"kotakdatepickerstart\",\n      type: \"date\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"End \"), React.createElement(\"input\", {\n      name: \"endDate\",\n      className: \"kotakdatepickerend\",\n      type: \"date\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Status \"), React.createElement(\"select\", {\n      name: \"status\",\n      className: \"kotakpicker\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"semua\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \" Semua \"), React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \" Check In \"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \" Check Out \")), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"kkotakinput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Go \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakcheckin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, checkin), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"CHECK IN\"), React.createElement(\"a\", {\n      href: \"/logpintu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakcheckout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, checkout), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"CHECK OUT\"), React.createElement(\"a\", {\n      href: \"/logpintu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakpengguna\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, pengguna.length), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"PENGGUNA\"), React.createElement(\"a\", {\n      href: \"/pengguna\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"kotakangkastat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, ruangan.length), React.createElement(\"span\", {\n      className: \"kotakhalamanstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"RUANGAN\"), React.createElement(\"a\", {\n      href: \"/ruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kkotakstat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \" View More \"), React.createElement(\"i\", {\n      className: \"fa fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"kotakgrafik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakisigrafik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakisigrafik2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      width: 1000,\n      height: 290,\n      chartType: \"ColumnChart\",\n      loader: React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \"Loading...\"),\n      data: datagrafik,\n      options: {\n        title: 'Statistik Check In dan Check Out',\n        hAxis: {\n          title: 'Waktu',\n          minValue: 0\n        },\n        vAxis: {\n          title: 'Jumlah'\n        }\n      },\n      legendToggle: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default withRouter(Statistik);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/statistik.js"],"names":["React","Component","Chart","withRouter","Statistik","constructor","props","state","isidata","ruang","startDate","endDate","status","ruanganoption","handleChange","bind","handleSubmit","componentDidMount","username","password","h","Headers","append","btoa","fetch","limit","method","headers","then","response","json","data","setState","results","e","target","name","value","preventDefault","inputruang","starttime","endtime","inputstatus","filter","substring","render","checkin","checkout","pengguna","deteksipengguna","ruangan","deteksiruangan","grafikcheckin","grafikcheckout","i","length","lockstatus","j","scard_id","term_id","push","date","Date","checked_tm","jam","getHours","k","ruangoption","deteksiruangoption","datagrafik","map","isi","title","hAxis","minValue","vAxis"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport Chart from 'react-google-charts';\nimport {withRouter} from 'react-router-dom';\n\nclass Statistik extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n          isidata: [],\n          ruang: '',\n          startDate: '',\n          endDate:'',\n          status: '',\n          ruanganoption: [],\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n\n      componentDidMount(){\n        let username = 'admin';\n        let password = 'bandung123';\n        let h = new Headers;\n        h.append ('Authorization', 'Basic ' + btoa(username + ':' + password))\n        fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit='+this.props.limit, {\n        method: 'GET',\n        headers: h\n        })\n        .then(response=>response.json())\n        .then(data => this.setState({ruanganoption: data.results}))      \n      }\n    \n      handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n      }\n      \n      handleSubmit(e){\n        e.preventDefault();\n    \n        const {ruang,startDate,endDate,status} = this.state\n        var inputruang\n        var starttime\n        var endtime\n        var inputstatus\n        var filter\n    \n        if ((ruang==='')||(ruang==='semua')){\n          inputruang=''\n        }\n        else {\n          inputruang ='&term_id='+ruang\n        }\n    \n        if ((status==='')||(status==='semua')){\n          inputstatus=''\n        }\n        else {\n          inputstatus='&lockstatus='+status\n        }\n\n        if (startDate===''){\n            starttime=''\n          }\n          else {\n            starttime='&startdatetime='+startDate.substring(0,4)+startDate.substring(5,7)+startDate.substring(8,10)+'T000000+07:00'\n          }\n      \n          if (endDate===''){\n            endtime=''\n          }\n          else {\n            endtime='&enddatetime='+endDate.substring(0,4)+endDate.substring(5,7)+endDate.substring(8,10)+'T000000+07:00'\n          }\n      \n          if ((endDate==='')||(startDate==='')){\n            if ((startDate==='')&&(endDate!=='')){\n              starttime=''\n              endtime='&year='+endDate.substring(0,4)+'&month='+endDate.substring(5,7)+'&day='+endDate.substring(8,10)\n            }\n            else if ((endDate==='')&&(startDate!=='')){\n              starttime='&year='+startDate.substring(0,4)+'&month='+startDate.substring(5,7)+'&day='+startDate.substring(8,10)\n              endtime=''\n            }\n            else {\n              starttime=''\n              endtime=''\n            }\n          }\n      \n          if (((endDate!=='')&&(startDate!==''))&&(('&year='+startDate.substring(0,4)+'&month='+startDate.substring(5,7)+'&day='+startDate.substring(8,10))===('&year='+endDate.substring(0,4)+'&month='+endDate.substring(5,7)+'&day='+endDate.substring(8,10)))){\n            starttime='&year='+startDate.substring(0,4)+'&month='+startDate.substring(5,7)+'&day='+startDate.substring(8,10)\n            endtime=''\n          }\n    \n        filter = inputruang+starttime+endtime+inputstatus;\n        \n        let username = 'admin';\n        let password = 'bandung123';\n        let h = new Headers;\n        h.append ('Authorization', 'Basic ' + btoa(username + ':' + password))\n        fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit='+this.props.limit+filter, {\n        method: 'GET',\n        headers: h\n        })\n        .then(response=>response.json())\n        .then(data => this.setState({isidata: data.results}))     \n      }\n\n    render(){\n        const {isidata}=this.state\n        var checkin = 0;\n        var checkout = 0;\n        var pengguna = [];\n        var deteksipengguna = 0;\n        var ruangan = [];\n        var deteksiruangan = 0;\n        var grafikcheckin= [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n        var grafikcheckout= [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]        \n        \n        for (var i=0; i<isidata.length; i++){\n            if (isidata[i].lockstatus===0){\n              checkin = checkin + 1\n            }\n            else {\n              checkout = checkout + 1\n            }\n            for (var j=0; j<=pengguna.length; j++){\n                if (isidata[i].scard_id === pengguna[j]){\n                    deteksipengguna = deteksipengguna +1;\n                }\n                else{\n                    deteksipengguna = deteksipengguna;\n                }\n            }\n            for (var j=0; j<=ruangan.length; j++){\n                if (isidata[i].term_id === ruangan[j]){\n                    deteksiruangan = deteksiruangan +1;\n                }\n                else{\n                    deteksiruangan = deteksiruangan;\n                }\n\n            }\n            if (deteksipengguna===0){\n                pengguna.push(isidata[i].scard_id)\n            }\n            if (deteksiruangan===0){\n                ruangan.push(isidata[i].term_id)\n            }\n            deteksipengguna = 0;\n            deteksiruangan = 0;\n            var date = new Date (isidata[i].checked_tm)\n            var jam = date.getHours()\n            for (var k=0; k<24; k++){\n                if ((jam===k)&&(isidata[i].lockstatus===0)){\n                    grafikcheckin[k] = grafikcheckin[k] + 1;\n                }\n\n                if ((jam===k)&&(isidata[i].lockstatus===1)){\n                    grafikcheckout[k] = grafikcheckout[k] + 1;\n                }\n            }\n        }\n\n        const {ruanganoption} = this.state\n        var ruangoption = [];\n        var deteksiruangoption = 0;\n        for (var i=0; i<ruanganoption.length; i++){\n            for (var j=0; j<=ruangoption.length; j++){\n                if (ruanganoption[i].term_id === ruangoption[j]){\n                    deteksiruangoption = deteksiruangoption +1;\n                }\n                else{\n                    deteksiruangoption = deteksiruangoption;\n                }\n            }\n            if (deteksiruangoption===0){\n                ruangoption.push(ruanganoption[i].term_id)\n            }\n            deteksiruangoption = 0;\n        }\n    \n\n\n        const datagrafik = [\n            ['Jumlah', ' Check In', 'Check Out'],\n            ['0 AM', grafikcheckin[0], grafikcheckout[0]],\n            ['1 AM', grafikcheckin[1], grafikcheckout[1]],\n            ['2 AM', grafikcheckin[2], grafikcheckout[2]],\n            ['3 AM', grafikcheckin[3], grafikcheckout[3]],\n            ['4 AM', grafikcheckin[4], grafikcheckout[4]],\n            ['5 AM', grafikcheckin[5], grafikcheckout[5]],\n            ['6 AM', grafikcheckin[6], grafikcheckout[6]],\n            ['7 AM', grafikcheckin[7], grafikcheckout[7]],\n            ['8 AM', grafikcheckin[8], grafikcheckout[8]],\n            ['9 AM', grafikcheckin[9], grafikcheckout[9]],\n            ['10 AM', grafikcheckin[10], grafikcheckout[10]],\n            ['11 AM', grafikcheckin[11], grafikcheckout[11]],\n            ['12 PM', grafikcheckin[12], grafikcheckout[12]],\n            ['1 PM', grafikcheckin[13], grafikcheckout[13]],\n            ['2 PM', grafikcheckin[14], grafikcheckout[14]],\n            ['3 PM', grafikcheckin[15], grafikcheckout[15]],\n            ['4 PM', grafikcheckin[16], grafikcheckout[16]],\n            ['5 PM', grafikcheckin[17], grafikcheckout[17]],\n            ['6 PM', grafikcheckin[18], grafikcheckout[18]],\n            ['7 PM', grafikcheckin[19], grafikcheckout[19]],\n            ['8 PM', grafikcheckin[20], grafikcheckout[20]],\n            ['9 PM', grafikcheckin[21], grafikcheckout[21]],\n            ['10 PM', grafikcheckin[22], grafikcheckout[22]],\n            ['11 PM', grafikcheckin[23], grafikcheckout[23]],\n            ]\n        return (\n            <div>\n                <div className=\"kotakinput\">\n                    <form className=\"kotakforminput\" onSubmit={this.handleSubmit}>\n                        \n                        <label>Ruang </label>\n                        <select name=\"ruang\" className=\"kotakpicker\" onChange={this.handleChange}>\n                            <option value=\"semua\"> Semua </option>\n                            {ruangoption.map(isi =>(\n                                <option key={isi}>{isi}</option>\n                            ))}\n                        </select>\n                        <br></br>\n\n                        <label>Start </label>\n                        <input name=\"startDate\" className=\"kotakdatepickerstart\" type=\"date\" onChange={this.handleChange}></input>\n                        <br></br>\n\n                        <label>End </label>\n                        <input name=\"endDate\" className=\"kotakdatepickerend\" type=\"date\" onChange={this.handleChange}></input>\n                        <br></br>\n\n                        <label>Status </label>\n                        <select name=\"status\" className=\"kotakpicker\" onChange={this.handleChange}>\n                            <option value=\"semua\"> Semua </option>\n                            <option value=\"0\"> Check In </option>\n                            <option value=\"1\"> Check Out </option>\n                        </select>\n\n                        <button type=\"submit\" className=\"kkotakinput\">\n                            <span>Go </span>\n                            <i className=\"fa fa-chevron-right\"></i>\n                        </button>\n                    </form>\n                </div>\n                <div className=\"kotakcheckin\">\n                    <span className=\"kotakangkastat\" >{checkin}</span>\n                    <span className=\"kotakhalamanstat\">CHECK IN</span>\n                    <a href=\"/logpintu\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </a>\n                </div>\n                <div className=\"kotakcheckout\">\n                    <span className=\"kotakangkastat\" >{checkout}</span>\n                    <span className=\"kotakhalamanstat\">CHECK OUT</span>\n                    <a href=\"/logpintu\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </a>\n                </div>\n                <div className=\"kotakpengguna\">\n                    <span className=\"kotakangkastat\" >{pengguna.length}</span>\n                    <span className=\"kotakhalamanstat\">PENGGUNA</span>\n                    <a href=\"/pengguna\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </a>\n                </div>\n                <div className=\"kotakruangan\">\n                    <span className=\"kotakangkastat\" >{ruangan.length}</span>\n                    <span className=\"kotakhalamanstat\">RUANGAN</span>\n                    <a href=\"/ruangan\">\n                        <div className=\"kkotakstat\"> \n                            <span> View More </span> \n                            <i className=\"fa fa-chevron-right\"></i>\n                        </div>\n                    </a>\n                </div>\n                <div className=\"kotakgrafik\">\n                    <div className=\"kotakisigrafik\">\n                        <div className=\"kotakisigrafik2\">\n                            <Chart \n                            width={1000}\n                            height={290}\n                            chartType=\"ColumnChart\"\n                            loader={<div>Loading...</div>}\n                            data={datagrafik}\n                            options={{\n                            title: 'Statistik Check In dan Check Out',\n                            hAxis: {\n                                title: 'Waktu',\n                                minValue: 0,\n                            },\n                            vAxis: {\n                                title: 'Jumlah',\n                            },\n                            }}\n                            legendToggle\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n        )\n    } \n}\n\nexport default withRouter(Statistik);"]},"metadata":{},"sourceType":"module"}