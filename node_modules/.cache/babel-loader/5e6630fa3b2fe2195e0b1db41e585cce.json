{"ast":null,"code":"var _jsxFileName = \"/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/laporan.js\";\nimport React, { Component } from 'react';\nimport Pdf from \"react-to-pdf\";\nimport ReactExport from \"react-data-export\";\nimport { withRouter } from 'react-router-dom';\n\nclass Laporan extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isidata: [],\n      ins: [],\n      getRangeDate: [],\n      periodeLaporan: false,\n      nim: '',\n      startDate: '',\n      endDate: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          nim = _this$state.nim,\n          startDate = _this$state.startDate,\n          endDate = _this$state.endDate,\n          periodeLaporan = _this$state.periodeLaporan;\n    var filter;\n    filter = nim;\n    let username = 'admin';\n    let password = 'bandung123';\n    let h = new Headers();\n    h.append('Authorization', 'Basic ' + btoa(username + ':' + password));\n    fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit=' + this.props.limit + \"&scard_id=\" + filter, {\n      method: 'GET',\n      headers: h\n    }).then(response => response.json()).then(data => this.setState({\n      isidata: data.results\n    })); //mengambil instansi berdasarkan scard id\n\n    let he = new Headers();\n    let token = this.props.token;\n    he.append('x-access-token', token);\n    fetch('http://192.168.2.7:3000/card', {\n      method: 'GET',\n      headers: he\n    }).then(response => response.json()).then(data => this.setState({\n      ins: data\n    }));\n\n    function getDateArray(start, end) {\n      var hasil = new Array();\n      var startdatee = new Date(start);\n      var enddatee = new Date(end);\n\n      while (startdatee <= enddatee) {\n        hasil.push(new Date(startdatee));\n        startdatee.setDate(startdatee.getDate() + 1);\n      }\n\n      return hasil;\n    }\n\n    var dateArr = getDateArray(startDate, endDate);\n    this.setState({\n      getRangeDate: dateArr\n    });\n    this.setState({\n      periodeLaporan: true\n    });\n  }\n\n  render() {\n    function waktu(t) {\n      var tahun, bulan, tanggal, tgl, hari, date;\n      date = new Date(t);\n      tahun = String(date.getFullYear());\n      var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n      bulan = months[date.getMonth()];\n      tgl = date.getDate();\n\n      if (tgl <= 9) {\n        tanggal = \"0\" + String(tgl);\n      } else {\n        tanggal = String(tgl);\n      }\n\n      console.log(date.getDay());\n      var days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n      hari = days[date.getDay()];\n      return hari + \", \" + tanggal + \"-\" + bulan + \"-\" + tahun;\n    }\n\n    const _this$state2 = this.state,\n          isidata = _this$state2.isidata,\n          getRangeDate = _this$state2.getRangeDate;\n    var nimp, nama, inst;\n\n    function instansi(nim1, array) {\n      var hasil;\n      var i;\n\n      for (i = 0; i < array.length; i++) {\n        if (String(nim1) === array[i].card_id) {\n          hasil = array[i].instansi;\n          break;\n        } else {\n          hasil = '';\n        }\n      }\n\n      return hasil;\n    }\n\n    for (var i = 0; i < isidata.length; i++) {\n      nimp = isidata[i].scard_id;\n      nama = isidata[i].name;\n      inst = instansi(isidata[i].scard_id, this.state.ins);\n    }\n\n    const _this$state3 = this.state,\n          nim = _this$state3.nim,\n          startDate = _this$state3.startDate,\n          endDate = _this$state3.endDate,\n          periodeLaporan = _this$state3.periodeLaporan;\n    let inputnim = nim;\n    let inputstartDate = startDate;\n    let inputendDate = endDate;\n\n    function Periodelaporan(start, end) {\n      var hasil, awal, akhir, tahunakhir, bulanawal, bulanakhir, tanggalawal, tanggalakhir, tglawal, tglakhir;\n      awal = new Date(start);\n      akhir = new Date(end);\n      tahunakhir = String(akhir.getFullYear());\n      var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      bulanawal = months[awal.getMonth()];\n      bulanakhir = months[akhir.getMonth()];\n      tglawal = awal.getDate();\n      tglakhir = akhir.getDate();\n\n      if (tglawal <= 9) {\n        tanggalawal = \"0\" + String(tglawal);\n      } else {\n        tanggalawal = String(tglawal);\n      }\n\n      if (tglakhir <= 9) {\n        tanggalakhir = \"0\" + String(tglakhir);\n      } else {\n        tanggalakhir = String(tglakhir);\n      }\n\n      hasil = tanggalawal + \" \" + bulanawal + \" - \" + tanggalakhir + \" \" + bulanakhir + \" \" + tahunakhir;\n\n      if (periodeLaporan) {\n        return hasil;\n      }\n    }\n\n    function sekarang(a) {\n      var hasil, tgl, tanggal, bulan, tahun, j, jam, m, menit;\n      tgl = a.getDate();\n\n      if (tgl <= 9) {\n        tanggal = \"0\" + String(tgl);\n      } else {\n        tanggal = String(tgl);\n      }\n\n      var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      bulan = months[a.getMonth()];\n      tahun = a.getFullYear();\n      j = a.getHours();\n\n      if (j <= 9) {\n        jam = \"0\" + String(j);\n      } else {\n        jam = String(j);\n      }\n\n      m = a.getMinutes();\n\n      if (m <= 9) {\n        menit = \"0\" + String(m);\n      } else {\n        menit = String(m);\n      }\n\n      hasil = bulan + \" \" + tanggal + \", \" + tahun + \" \" + jam + \":\" + menit + \":00\";\n\n      if (periodeLaporan) {\n        return hasil;\n      }\n    }\n\n    var i = 1; // function isLibur(a){\n    //     var tanggal, hasil, verif\n    //     tanggal = new Date (a)\n    //     verif = tanggal.getDay()\n    //     if ((verif === 5)||(verif===6)){\n    //         hasil = \"laporanlibur\"\n    //     }\n    //     else if ((verif===0)||(verif===2)||(verif===4)){\n    //         hasil = \"laporantidakliburganjil\"\n    //     }\n    //     else {\n    //         hasil = \"laporantidakliburgenap\"\n    //     }\n    //     return hasil\n    // }\n\n    function masuk(a, b) {\n      var hasil, tgl, tanggal, tahun, bulan;\n      tgl = new Date(a);\n      tanggal = tgl.getDate();\n      bulan = tgl.getMonth();\n      tahun = tgl.getFullYear();\n\n      for (var i = 0; i < b.length; i++) {\n        if (b[i].lockstatus === 0) {\n          var tanggalmasuk = new Date(b[i].checked_tm);\n          var tanggalmasukk = tanggalmasuk.getDate();\n          var tahuntanggalmasuk = tanggalmasuk.getFullYear();\n          var bulantanggalmasuk = tanggalmasuk.getMonth();\n          var hasilmasuk, j, jam, m, menit;\n          j = tanggalmasuk.getHours();\n\n          if (j <= 9) {\n            jam = \"0\" + String(j);\n          } else {\n            jam = String(j);\n          }\n\n          m = tanggalmasuk.getMinutes();\n\n          if (m <= 9) {\n            menit = \"0\" + String(m);\n          } else {\n            menit = String(m);\n          }\n\n          hasilmasuk = jam + \":\" + menit + \":00\";\n\n          if (tanggal === tanggalmasukk && tahun === tahuntanggalmasuk && bulan === bulantanggalmasuk) {\n            hasil = hasilmasuk;\n            break;\n          } else {\n            hasil = \"-\";\n          }\n        }\n      }\n\n      return hasil;\n    }\n\n    function keluar(a, b) {\n      var hasil, tgl, tanggal, tahun, bulan;\n      tgl = new Date(a);\n      tanggal = tgl.getDate();\n      bulan = tgl.getMonth();\n      tahun = tgl.getFullYear();\n\n      for (var i = 0; i < b.length; i++) {\n        if (b[i].lockstatus === 1) {\n          var tanggalmasuk = new Date(b[i].checked_tm);\n          var tanggalmasukk = tanggalmasuk.getDate();\n          var tahuntanggalmasuk = tanggalmasuk.getFullYear();\n          var bulantanggalmasuk = tanggalmasuk.getMonth();\n          var hasilmasuk, j, jam, m, menit;\n          j = tanggalmasuk.getHours();\n\n          if (j <= 9) {\n            jam = \"0\" + String(j);\n          } else {\n            jam = String(j);\n          }\n\n          m = tanggalmasuk.getMinutes();\n\n          if (m <= 9) {\n            menit = \"0\" + String(m);\n          } else {\n            menit = String(m);\n          }\n\n          hasilmasuk = jam + \":\" + menit + \":00\";\n\n          if (tanggal === tanggalmasukk && tahun === tahuntanggalmasuk && bulan === bulantanggalmasuk) {\n            hasil = hasilmasuk;\n            break;\n          } else {\n            hasil = \"-\";\n          }\n        }\n      }\n\n      return hasil;\n    }\n\n    function total(a, b) {\n      var hasil, jammasuk, jamkeluar, menitmasuk, menitkeluar, j, m, jam, menit;\n      var masukk = String(masuk(a, b));\n      var keluarr = String(keluar(a, b));\n      menitmasuk = parseInt(masukk.substring(3, 5));\n      menitkeluar = parseInt(keluarr.substring(3, 5));\n      jamkeluar = parseInt(keluarr.substring(0, 2));\n      jammasuk = parseInt(masukk.substring(0, 2));\n      m = menitkeluar - menitmasuk;\n      j = jamkeluar - jammasuk;\n\n      if (m < 0) {\n        m = m + 60;\n        j = j - 1;\n      }\n\n      if (j <= 9) {\n        jam = \"0\" + String(j);\n      } else {\n        jam = String(j);\n      }\n\n      if (m <= 9) {\n        menit = \"0\" + String(m);\n      } else {\n        menit = String(m);\n      }\n\n      hasil = jam + \":\" + menit + \":00\";\n\n      if (masukk === \"-\" || keluarr === \"-\") {\n        return \"-\";\n      } else {\n        return hasil;\n      }\n    }\n\n    const ref = React.createRef();\n    const ExcelFile = ReactExport.ExcelFile;\n    const ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n    var x = 1;\n\n    function no(i) {\n      var m = 0;\n      var hasil = m + i;\n      return hasil;\n    }\n\n    function getDataXcl(a) {\n      var data = new Array(a.length);\n      x = 1;\n\n      for (var i = 0; i < a.length; i++) {\n        data[i] = new Array(9);\n        data[i][0] = no(x++);\n        data[i][1] = waktu(a[i]);\n        data[i][2] = masuk(a[i], isidata);\n        data[i][3] = keluar(a[i], isidata);\n        data[i][4] = total(a[i], isidata);\n        data[i][5] = \" \";\n        data[i][6] = \" \";\n        data[i][7] = \" \";\n        data[i][8] = \" \";\n      }\n\n      return data;\n    }\n\n    const dataXcl = [{\n      columns: [\" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \"],\n      data: [[\"NIM/NIP\", nimp], [\"Nama\", nama], [\"Instansi\", inst], [\" \"], [\" \"], [\" \"], [\"Periode\", Periodelaporan(startDate, endDate), \" \", \"Tanggal Cetak\", sekarang(new Date())]]\n    }, {\n      ySteps: 2,\n      columns: [{\n        title: \"No\",\n        width: {\n          wpx: 30\n        }\n      }, {\n        title: \"Hari, Tanggal\",\n        width: {\n          wpx: 120\n        }\n      }, {\n        title: \"Jam Masuk\",\n        width: {\n          wpx: 100\n        }\n      }, {\n        title: \"Jam Keluar\",\n        width: {\n          wpx: 100\n        }\n      }, {\n        title: \"Total Jam/Hari\",\n        width: {\n          wpx: 100\n        }\n      }, {\n        title: \"Alfa\",\n        width: {\n          wpx: 50\n        }\n      }, {\n        title: \"Izin\",\n        width: {\n          wpx: 50\n        }\n      }, {\n        title: \"Sakit\",\n        width: {\n          wpx: 50\n        }\n      }, {\n        title: \"Keterangan\",\n        width: {\n          wpx: 100\n        }\n      }],\n      data: getDataXcl(getRangeDate)\n    }];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakfilter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"kotakforminputlogpintu\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakinputlaporannim\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, \" NIM/NIP \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"nim\",\n      onChange: this.handleChange,\n      className: \"inputformlaporannim\",\n      type: \"text\",\n      placeholder: \"NIM/NIP\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotakinputlaporanstart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, \" Start Date \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"startDate\",\n      onChange: this.handleChange,\n      className: \"inputformlaporanstart\",\n      type: \"date\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotakinputlaporanend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, \" End Date \"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"endDate\",\n      onChange: this.handleChange,\n      className: \"inputformlaporanend\",\n      type: \"date\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"kotaksubmitlaporan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"submitformlogpintu2\",\n      type: \"submit\",\n      value: \"Find\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    })), React.createElement(Pdf, {\n      targetRef: ref,\n      filename: \"Xirka-\" + nimp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }, ({\n      toPdf\n    }) => React.createElement(\"a\", {\n      className: \"mousepointer\",\n      onClick: toPdf,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakprintpdflaporan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"printformlaporan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-print\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, \" \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, \" Print to PDF\")))))), React.createElement(ExcelFile, {\n      filename: \"Xirka-\" + nimp,\n      element: React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"kotakprintxcllaporan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"printformlaporan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-print\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, \" Print to Excel\"))))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }, React.createElement(ExcelSheet, {\n      dataSet: dataXcl,\n      name: \"Xirka\" + nimp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"ruangandaftarruangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakisigrafik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kotakisigrafik2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: ref,\n      className: \"ruangandaftarruangan2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"tabellaporan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        width: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, \"NIM/NIP\")), React.createElement(\"td\", {\n      style: {\n        width: '64%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, \"\\u2003:\\u2003\", nimp))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, \"Nama\")), React.createElement(\"td\", {\n      colSpan: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, \"\\u2003:\\u2003\", nama))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }, \"Instansi\")), React.createElement(\"td\", {\n      colSpan: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, \"\\u2003:\\u2003\", inst))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, \"\\u2003\")), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, \"\\u2003\")), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, \"Periode\")), React.createElement(\"td\", {\n      colSpan: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }, \"\\u2003:\\u2003\", Periodelaporan(startDate, endDate))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, \"Tanggal Cetak\")), React.createElement(\"td\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, \":\")), React.createElement(\"td\", {\n      colSpan: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, sekarang(new Date())))))), React.createElement(\"table\", {\n      className: \"tabellaporan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      className: \"tabellaporantrhead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"laporanno\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506\n      },\n      __self: this\n    }, \" No \"), React.createElement(\"th\", {\n      className: \"laporanhari\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507\n      },\n      __self: this\n    }, \" Hari, Tanggal \"), React.createElement(\"th\", {\n      className: \"laporanmasuk\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508\n      },\n      __self: this\n    }, \" Jam Masuk \"), React.createElement(\"th\", {\n      className: \"laporankeluar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }, \" Jam Keluar \"), React.createElement(\"th\", {\n      className: \"laporantotal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, \" Total Jam/Hari \"), React.createElement(\"th\", {\n      className: \"laporanalfa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, \" Alfa \"), React.createElement(\"th\", {\n      className: \"laporanizin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }, \" Izin \"), React.createElement(\"th\", {\n      className: \"laporansakit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, \" Sakit \"), React.createElement(\"th\", {\n      className: \"laporanketerangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, \" Keterangan \"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }, getRangeDate.map(isi => React.createElement(\"tr\", {\n      className: \"tabellaporanbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"laporanno\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }, i++), React.createElement(\"td\", {\n      className: \"laporanhari\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521\n      },\n      __self: this\n    }, waktu(isi)), React.createElement(\"td\", {\n      className: \"laporanmasuk\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    }, masuk(isi, isidata)), React.createElement(\"td\", {\n      className: \"laporankeluar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, keluar(isi, isidata)), React.createElement(\"td\", {\n      className: \"laporantotal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }, total(isi, isidata)), React.createElement(\"td\", {\n      className: \"laporanalfa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      className: \"laporanizin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      className: \"laporansakit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      className: \"laporanketerangan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    })))))))))));\n  }\n\n}\n\nexport default withRouter(Laporan);","map":{"version":3,"sources":["/home/didisetiawan/Downloads/dd/Xirka-FrontEnd/src/components/content/laporan.js"],"names":["React","Component","Pdf","ReactExport","withRouter","Laporan","constructor","props","state","isidata","ins","getRangeDate","periodeLaporan","nim","startDate","endDate","handleChange","bind","handleSubmit","e","target","name","value","setState","preventDefault","filter","username","password","h","Headers","append","btoa","fetch","limit","method","headers","then","response","json","data","results","he","token","getDateArray","start","end","hasil","Array","startdatee","Date","enddatee","push","setDate","getDate","dateArr","render","waktu","t","tahun","bulan","tanggal","tgl","hari","date","String","getFullYear","months","getMonth","console","log","getDay","days","nimp","nama","inst","instansi","nim1","array","i","length","card_id","scard_id","inputnim","inputstartDate","inputendDate","Periodelaporan","awal","akhir","tahunakhir","bulanawal","bulanakhir","tanggalawal","tanggalakhir","tglawal","tglakhir","sekarang","a","j","jam","m","menit","getHours","getMinutes","masuk","b","lockstatus","tanggalmasuk","checked_tm","tanggalmasukk","tahuntanggalmasuk","bulantanggalmasuk","hasilmasuk","keluar","total","jammasuk","jamkeluar","menitmasuk","menitkeluar","masukk","keluarr","parseInt","substring","ref","createRef","ExcelFile","ExcelSheet","x","no","getDataXcl","dataXcl","columns","ySteps","title","width","wpx","toPdf","textAlign","map","isi"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport Pdf from \"react-to-pdf\"\nimport ReactExport from \"react-data-export\";\nimport {withRouter} from 'react-router-dom'\n\n\nclass Laporan extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n          isidata: [],\n          ins: [],\n          getRangeDate: [],\n          periodeLaporan:false,\n          nim: '',\n          startDate: '',\n          endDate:'',\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        }\n\n        handleChange(e) {\n            const { name, value } = e.target;\n            this.setState({ [name]: value });\n        }\n        \n        handleSubmit(e){\n            e.preventDefault();\n        \n            const {nim,startDate,endDate,periodeLaporan} = this.state\n             var filter\n        \n            filter = nim\n            let username = 'admin';\n            let password = 'bandung123';\n            let h = new Headers;\n            h.append ('Authorization', 'Basic ' + btoa(username + ':' + password))\n            fetch('https://192.168.2.7/smartlock/api/v1/smartlockview.json?limit='+this.props.limit+\"&scard_id=\"+filter, {\n            method: 'GET',\n            headers: h\n            })\n            .then(response=>response.json())\n            .then(data => this.setState({isidata: data.results}))     \n        \n            //mengambil instansi berdasarkan scard id\n            let he= new Headers()\n            let token = this.props.token\n            he.append ('x-access-token', token)\n            fetch('http://192.168.2.7:3000/card', {\n            method: 'GET',\n            headers: he\n            })\n            .then(response=>response.json())\n            .then(data => this.setState({ins: data}))\n\n            function getDateArray(start, end) {\n                var hasil = new Array();\n                var startdatee = new Date(start);\n                var enddatee = new Date(end);\n                while (startdatee <= enddatee) {\n                    hasil.push(new Date(startdatee));\n                    startdatee.setDate(startdatee.getDate() + 1);\n                }\n                return hasil;\n            }\n            \n            var dateArr = getDateArray(startDate, endDate);\n            this.setState({getRangeDate:dateArr})\n            this.setState({periodeLaporan:true})\n        }\n\n    render(){\n        function waktu(t){\n            var tahun,bulan,tanggal,tgl,hari,date;\n            date = new Date (t)\n\n            tahun = String(date.getFullYear())\n\n            var months = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"];\n            bulan = months[(date.getMonth())]\n\n            tgl = date.getDate()\n            if (tgl <=9){\n                tanggal = \"0\"+String(tgl)\n            }\n            else {\n                tanggal = String(tgl)\n            }\n            console.log(date.getDay())\n            var days = [\"Sun\",\"Mon\",\"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n            hari = days[(date.getDay())]\n            \n            return hari+\", \"+tanggal+\"-\"+bulan+\"-\"+tahun\n        }\n        const {isidata,getRangeDate} = this.state\n        var nimp, nama, inst;\n        function instansi(nim1,array){\n            var hasil\n            var i\n            for ( i=0; i<array.length; i++){\n              if (String(nim1)===array[i].card_id){\n                hasil = array[i].instansi\n                break\n              }\n              else {\n                hasil = ''\n              }\n            }\n            return hasil\n        }\n\n        for (var i=0; i<isidata.length; i++){\n            nimp = isidata[i].scard_id;\n            nama = isidata[i].name;\n            inst = instansi(isidata[i].scard_id,this.state.ins)\n        }\n\n        const {nim,startDate,endDate, periodeLaporan} = this.state;\n        let inputnim = nim;\n        let inputstartDate = startDate;\n        let inputendDate = endDate;\n\n        function Periodelaporan(start,end){\n            var hasil, awal, akhir, tahunakhir, bulanawal, bulanakhir, tanggalawal, tanggalakhir, tglawal, tglakhir;\n            awal = new Date(start);\n            akhir = new Date(end);\n\n            tahunakhir = String(akhir.getFullYear())\n\n            var months = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\n            \n            bulanawal = months[(awal.getMonth())]\n            bulanakhir = months[(akhir.getMonth())]\n\n            tglawal = awal.getDate()\n            tglakhir = akhir.getDate()\n\n            if (tglawal <=9){\n                tanggalawal = \"0\"+String(tglawal)\n            }\n            else {\n                tanggalawal = String(tglawal)\n            }\n\n            if (tglakhir <=9){\n                tanggalakhir = \"0\"+String(tglakhir)\n            }\n            else {\n                tanggalakhir = String(tglakhir)\n            }\n\n            hasil = tanggalawal+\" \"+bulanawal+\" - \"+tanggalakhir+\" \"+bulanakhir+\" \"+tahunakhir\n            if (periodeLaporan){\n                return (\n                    hasil\n                )\n            }\n        }\n\n        function sekarang(a){\n            var hasil, tgl, tanggal, bulan, tahun, j, jam, m, menit;\n            tgl = a.getDate();\n            if (tgl <=9){\n                tanggal = \"0\"+String(tgl)\n            }\n            else {\n                tanggal = String(tgl)\n            }\n            var months = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\n            bulan = months[(a.getMonth())]\n            tahun = a.getFullYear();\n            j = a.getHours()\n            if (j<=9){\n                jam = \"0\"+String(j)\n            }\n            else {\n                jam = String(j)\n            }\n            m = a.getMinutes()\n            if (m<=9){\n                menit = \"0\"+String(m)\n            }\n            else {\n                menit = String(m)\n            }\n            hasil =  bulan+\" \"+tanggal+\", \"+tahun+\" \"+jam+\":\"+menit+\":00\"\n            if (periodeLaporan){\n                return (\n                    hasil\n                )\n            }\n        }\n\n        var i = 1;\n\n        // function isLibur(a){\n        //     var tanggal, hasil, verif\n        //     tanggal = new Date (a)\n\n        //     verif = tanggal.getDay()\n            \n        //     if ((verif === 5)||(verif===6)){\n        //         hasil = \"laporanlibur\"\n        //     }\n        //     else if ((verif===0)||(verif===2)||(verif===4)){\n        //         hasil = \"laporantidakliburganjil\"\n        //     }\n        //     else {\n        //         hasil = \"laporantidakliburgenap\"\n        //     }\n        //     return hasil\n        // }\n\n        function masuk(a,b){\n            var hasil, tgl, tanggal, tahun, bulan;\n            tgl = new Date(a)\n            tanggal = tgl.getDate()\n            bulan = tgl.getMonth()\n            tahun = tgl.getFullYear()\n            for (var i=0; i<b.length; i++){\n                if (b[i].lockstatus===0){\n                    var tanggalmasuk = new Date(b[i].checked_tm)\n                    var tanggalmasukk = tanggalmasuk.getDate()\n                    var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n                    var bulantanggalmasuk = tanggalmasuk.getMonth()\n                    var hasilmasuk,j, jam,m, menit;\n                    j = tanggalmasuk.getHours()\n                    if (j<=9){\n                        jam = \"0\"+String(j)\n                    }\n                    else {\n                        jam = String(j)\n                    }\n                    m = tanggalmasuk.getMinutes()\n                    if (m<=9){\n                        menit = \"0\"+String(m)\n                    }\n                    else {\n                        menit = String(m)\n                    }\n\n                    hasilmasuk = jam + \":\" +menit+\":00\";\n                    if ((tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n                        hasil = hasilmasuk\n                        break\n                    }\n                    else{\n                        hasil = \"-\"\n                    }\n                }\n                    \n            }\n            \n            return hasil;\n        }\n\n        function keluar(a,b){\n            var hasil, tgl, tanggal, tahun, bulan;\n            tgl = new Date(a)\n            tanggal = tgl.getDate()\n            bulan = tgl.getMonth()\n            tahun = tgl.getFullYear()\n            for (var i=0; i<b.length; i++){\n                if (b[i].lockstatus===1){\n                    var tanggalmasuk = new Date(b[i].checked_tm)\n                    var tanggalmasukk = tanggalmasuk.getDate()\n                    var tahuntanggalmasuk = tanggalmasuk.getFullYear()\n                    var bulantanggalmasuk = tanggalmasuk.getMonth()\n                    var hasilmasuk,j, jam,m, menit;\n                    j = tanggalmasuk.getHours()\n                    if (j<=9){\n                        jam = \"0\"+String(j)\n                    }\n                    else {\n                        jam = String(j)\n                    }\n                    m = tanggalmasuk.getMinutes()\n                    if (m<=9){\n                        menit = \"0\"+String(m)\n                    }\n                    else {\n                        menit = String(m)\n                    }\n\n                    hasilmasuk = jam + \":\" +menit+\":00\";\n                    if ((tanggal===tanggalmasukk)&&(tahun===tahuntanggalmasuk)&&(bulan===bulantanggalmasuk)){\n                        hasil = hasilmasuk\n                        break\n                    }\n                    else{\n                        hasil = \"-\"\n                    }\n                }\n                    \n            }\n            \n            return hasil;\n        }\n\n        function total(a,b){\n            var hasil, jammasuk,jamkeluar,menitmasuk,menitkeluar, j,m,jam, menit;\n\n            var masukk = String(masuk(a,b))\n            var keluarr = String(keluar(a,b))\n\n            menitmasuk = parseInt(masukk.substring(3,5))\n            menitkeluar = parseInt(keluarr.substring(3,5))\n            jamkeluar = parseInt(keluarr.substring(0,2))\n            jammasuk = parseInt(masukk.substring(0,2))\n\n            m = menitkeluar-menitmasuk;\n            j = jamkeluar-jammasuk;\n            if (m<0){\n                m = m + 60;\n                j = j - 1;\n            }\n\n            if (j<=9){\n                jam = \"0\"+String(j)\n            }\n            else {\n                jam = String(j)\n            }\n\n            if (m<=9){\n                menit = \"0\"+String(m)\n            }\n            else {\n                menit = String(m)\n            }\n            hasil = jam+\":\"+menit+\":00\";\n            if ((masukk===\"-\")||(keluarr===\"-\")){\n                return \"-\"\n            }\n            else {\n                return hasil\n            }\n        }\n        const ref = React.createRef();\n\n       \n        const ExcelFile = ReactExport.ExcelFile;\n        const ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n        var x=1;\n\n        function no(i){\n            var m=0\n            var hasil=m+i\n            return  hasil\n        }\n\n        function getDataXcl(a){\n            var data=new Array(a.length);\n            x = 1;\n            for (var i=0; i<a.length ;i++){\n                data[i] = new Array(9) \n                \n                data[i][0]=(no(x++))\n                data[i][1]=(waktu(a[i]))\n                data[i][2]=(masuk(a[i],isidata))\n                data[i][3]=(keluar(a[i],isidata))\n                data[i][4]=(total(a[i],isidata))\n                data[i][5]=\" \"\n                data[i][6]=\" \"\n                data[i][7]=\" \"\n                data[i][8]=\" \"\n            }\n            return data\n        }\n\n        const dataXcl = [\n            {\n                columns: [\" \", \" \", \" \",\" \",\" \",\" \",\" \",\" \",\" \"],\n                data: [\n                    [\"NIM/NIP\", nimp],\n                    [\"Nama\", nama],\n                    [\"Instansi\", inst],\n                    [\" \"],\n                    [\" \"],\n                    [\" \"],\n                    [\"Periode\",Periodelaporan(startDate,endDate),\" \",\"Tanggal Cetak\",sekarang(new Date()) ],\n                ]\n            },\n\n            {\n                ySteps: 2,\n                columns: [\n                    {title: \"No\", width: {wpx: 30}},\n                    {title: \"Hari, Tanggal\", width: {wpx: 120}},\n                    {title: \"Jam Masuk\", width: {wpx: 100}},\n                    {title: \"Jam Keluar\", width: {wpx: 100}},\n                    {title: \"Total Jam/Hari\", width: {wpx: 100}},\n                    {title: \"Alfa\", width: {wpx: 50}},\n                    {title: \"Izin\", width: {wpx: 50}},\n                    {title: \"Sakit\", width: {wpx: 50}},\n                    {title: \"Keterangan\", width: {wpx: 100}},\n                ],\n                data: getDataXcl(getRangeDate)\n            }\n        ]\n\n        return (\n            <div>\n                <div className=\"kotakfilter\"> \n                    <form className=\"kotakforminputlogpintu\" onSubmit={this.handleSubmit}>\n                        <div className=\"kotakinputlaporannim\">\n                            <label> NIM/NIP </label> <br></br>\n                            <input name=\"nim\" onChange={this.handleChange} className=\"inputformlaporannim\" type=\"text\" placeholder=\"NIM/NIP\" required></input>\n                        </div>\n\n                        <div className=\"kotakinputlaporanstart\">\n                            <label> Start Date </label> <br></br>\n                            <input name=\"startDate\" onChange={this.handleChange} className=\"inputformlaporanstart\" type=\"date\" required></input>\n                        </div> \n                        \n                        <div className=\"kotakinputlaporanend\">\n                            <label> End Date </label> <br></br>\n                            <input name=\"endDate\" onChange={this.handleChange} className=\"inputformlaporanend\" type=\"date\" required></input>\n                        </div>\n                        \n                        <div className=\"kotaksubmitlaporan\">\n                            <input className=\"submitformlogpintu2\" type=\"submit\" value=\"Find\"></input>\n                        </div>\n                        \n                        <Pdf targetRef={ref} filename={\"Xirka-\"+nimp}>\n                            {({ toPdf }) =>\n                                <a className=\"mousepointer\" onClick={toPdf}>\n                                    <div className=\"kotakprintpdflaporan\">\n                                        <div className=\"printformlaporan\">\n                                            <i className=\"fa fa-print\"> <span> Print to PDF</span></i>\n                                        </div>\n                                    </div>\n                                </a>}\n                        </Pdf>\n                           \n                        \n                        <ExcelFile filename={\"Xirka-\"+nimp} element={\n                            <a>\n                                <div className=\"kotakprintxcllaporan\">\n                                    <div className=\"printformlaporan\">\n                                        <i className=\"fa fa-print\"> <span> Print to Excel</span></i>\n                                    </div>\n                                </div>\n                            </a>}>\n                            <ExcelSheet dataSet={dataXcl} name={\"Xirka\"+nimp}/>\n                        </ExcelFile>\n                    </form> \n                </div>        \n                <div className=\"ruangandaftarruangan\"> \n                    <div className=\"box-footer\">\n                        <div className=\"kotakisigrafik\">\n                            <div className=\"kotakisigrafik2\">\n                                <div ref={ref} className=\"ruangandaftarruangan2\">\n                                    {/* <div className=\"ruangandaftarruangan3\"></div> */}\n                                    <table className=\"tabellaporan\">\n                                        <tbody>\n                                            <tr>\n                                                <td style={{width:'5%'}}>\n                                                    <b>NIM/NIP</b>\n                                                </td>\n                                                <td style={{width:'64%'}}>\n                                                    <b>&emsp;:&emsp;{nimp}</b>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>\n                                                    <b>Nama</b>\n                                                </td>\n                                                <td colSpan=\"4\">\n                                                    <b>&emsp;:&emsp;{nama}</b>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>\n                                                    <b>Instansi</b>\n                                                </td>\n                                                <td colSpan=\"4\">\n                                                    <b>&emsp;:&emsp;{inst}</b>\n                                                </td>\n                                            </tr>\n                                            <tr><td>&emsp;</td></tr>\n                                            <tr><td>&emsp;</td></tr>\n                                            <tr>\n                                                <td>\n                                                    <b>Periode</b>\n                                                </td>\n                                                <td colSpan=\"3\">\n                                                    <b>&emsp;:&emsp;{Periodelaporan(startDate,endDate)}</b>\n                                                </td>\n                                                <td>\n                                                    <b>Tanggal Cetak</b>\n                                                </td>\n                                                <td style={{textAlign:\"center\"}}>\n                                                    <b>:</b>\n                                                </td>\n                                                <td colSpan=\"3\">\n                                                    <b>{sekarang(new Date())}</b>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                    <table className=\"tabellaporan\">\n                                        <thead>\n                                            <tr className=\"tabellaporantrhead\">\n                                                <th className =\"laporanno\" > No </th>\n                                                <th className =\"laporanhari\"> Hari, Tanggal </th>\n                                                <th className =\"laporanmasuk\"> Jam Masuk </th>\n                                                <th className =\"laporankeluar\"> Jam Keluar </th>\n                                                <th className =\"laporantotal\"> Total Jam/Hari </th>\n                                                <th className =\"laporanalfa\"> Alfa </th>\n                                                <th className =\"laporanizin\"> Izin </th>\n                                                <th className =\"laporansakit\"> Sakit </th>\n                                                <th className =\"laporanketerangan\"> Keterangan </th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {getRangeDate.map(isi =>(\n                                            <tr className=\"tabellaporanbody\">\n                                                <td className =\"laporanno\">{i++}</td>\n                                                <td className =\"laporanhari\">{waktu(isi)}</td>\n                                                <td className =\"laporanmasuk\">{masuk(isi,isidata)}</td>\n                                                <td className =\"laporankeluar\">{keluar(isi,isidata)}</td>\n                                                <td className =\"laporantotal\">{total(isi,isidata)}</td>\n                                                <td className =\"laporanalfa\"></td>\n                                                <td className =\"laporanizin\"></td>\n                                                <td className =\"laporansakit\"></td>\n                                                <td className =\"laporanketerangan\"></td>\n                                            </tr>\n                                        ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    } \n}\n\nexport default withRouter(Laporan);"]},"metadata":{},"sourceType":"module"}